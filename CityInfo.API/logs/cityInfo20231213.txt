2023-12-13 11:12:35.413 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-13 11:12:35.490 +02:00 [DBG] Hosting starting
2023-12-13 11:12:35.822 +02:00 [WRN] The application is trying to access the ASP.NET Core developer certificate key. A prompt might appear to ask for permission to access the key. When that happens, select 'Always Allow' to grant 'dotnet' access to the certificate key in the future.
2023-12-13 11:12:39.905 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 20C6FB97AF62DC64D18855A7E76246685F1F7431)
2023-12-13 11:12:40.049 +02:00 [INF] Now listening on: https://localhost:7267
2023-12-13 11:12:40.049 +02:00 [INF] Now listening on: http://localhost:5235
2023-12-13 11:12:40.049 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-12-13 11:12:40.050 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-13 11:12:40.050 +02:00 [INF] Hosting environment: Development
2023-12-13 11:12:40.050 +02:00 [INF] Content root path: /Users/matanamichy/Projects/CityInfo.API/CityInfo.API/
2023-12-13 11:12:40.050 +02:00 [DBG] Hosting started
2023-12-13 11:12:56.455 +02:00 [DBG] Connection id "0HMVRNEOTOBN9" accepted.
2023-12-13 11:12:56.456 +02:00 [DBG] Connection id "0HMVRNEOTOBNA" accepted.
2023-12-13 11:12:56.456 +02:00 [DBG] Connection id "0HMVRNEOTOBNA" started.
2023-12-13 11:12:56.456 +02:00 [DBG] Connection id "0HMVRNEOTOBN9" started.
2023-12-13 11:12:56.489 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5235/ - -
2023-12-13 11:12:56.493 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-13 11:12:56.527 +02:00 [DBG] The request path  does not match the path filter
2023-12-13 11:12:56.532 +02:00 [DBG] Https port '7267' discovered from server endpoints.
2023-12-13 11:12:56.535 +02:00 [DBG] Redirecting to 'https://localhost:7267/'.
2023-12-13 11:12:56.537 +02:00 [DBG] Connection id "0HMVRNEOTOBN9" completed keep alive response.
2023-12-13 11:12:56.539 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5235/ - - - 307 0 - 52.5206ms
2023-12-13 11:12:56.540 +02:00 [DBG] Connection id "0HMVRNEOTOBNB" accepted.
2023-12-13 11:12:56.540 +02:00 [DBG] Connection id "0HMVRNEOTOBNB" started.
2023-12-13 11:12:59.107 +02:00 [DBG] Connection 0HMVRNEOTOBNB established using the following protocol: "Tls12"
2023-12-13 11:12:59.112 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7267/ - -
2023-12-13 11:12:59.112 +02:00 [DBG] The request path  does not match the path filter
2023-12-13 11:12:59.130 +02:00 [DBG] No candidates found for the request path '/'
2023-12-13 11:12:59.130 +02:00 [DBG] Request did not match any endpoints
2023-12-13 11:12:59.134 +02:00 [DBG] Connection id "0HMVRNEOTOBNB" completed keep alive response.
2023-12-13 11:12:59.134 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7267/ - - - 404 0 - 22.7273ms
2023-12-13 11:13:01.574 +02:00 [DBG] Connection id "0HMVRNEOTOBNC" accepted.
2023-12-13 11:13:01.574 +02:00 [DBG] Connection id "0HMVRNEOTOBNC" started.
2023-12-13 11:13:01.581 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7267/ - -
2023-12-13 11:13:01.582 +02:00 [DBG] The request path  does not match the path filter
2023-12-13 11:13:01.582 +02:00 [DBG] No candidates found for the request path '/'
2023-12-13 11:13:01.582 +02:00 [DBG] Request did not match any endpoints
2023-12-13 11:13:01.582 +02:00 [DBG] Connection id "0HMVRNEOTOBNB" completed keep alive response.
2023-12-13 11:13:01.582 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7267/ - - - 404 0 - 1.5853ms
2023-12-13 11:13:04.023 +02:00 [DBG] Connection 0HMVRNEOTOBNC established using the following protocol: "Tls12"
2023-12-13 11:13:57.216 +02:00 [DBG] Connection id "0HMVRNEOTOBNA" received FIN.
2023-12-13 11:13:57.247 +02:00 [DBG] Connection id "0HMVRNEOTOBNA" sending FIN because: "The client closed the connection."
2023-12-13 11:13:57.260 +02:00 [DBG] Connection id "0HMVRNEOTOBNA" disconnecting.
2023-12-13 11:13:57.265 +02:00 [DBG] Connection id "0HMVRNEOTOBNA" stopped.
2023-12-13 11:14:08.132 +02:00 [DBG] Connection id "0HMVRNEOTOBNC" received FIN.
2023-12-13 11:14:08.133 +02:00 [DBG] Connection id "0HMVRNEOTOBNC" disconnecting.
2023-12-13 11:14:08.140 +02:00 [DBG] Connection id "0HMVRNEOTOBNC" stopped.
2023-12-13 11:14:08.140 +02:00 [DBG] Connection id "0HMVRNEOTOBNC" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-13 11:17:30.916 +02:00 [DBG] Connection id "0HMVRNEOTOBND" accepted.
2023-12-13 11:17:30.944 +02:00 [DBG] Connection id "0HMVRNEOTOBND" started.
2023-12-13 11:17:30.996 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5235/ - -
2023-12-13 11:17:30.996 +02:00 [DBG] The request path  does not match the path filter
2023-12-13 11:17:30.996 +02:00 [DBG] Redirecting to 'https://localhost:7267/'.
2023-12-13 11:17:30.997 +02:00 [DBG] Connection id "0HMVRNEOTOBND" completed keep alive response.
2023-12-13 11:17:30.997 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5235/ - - - 307 0 - 0.7693ms
2023-12-13 11:17:31.024 +02:00 [DBG] Connection id "0HMVRNEOTOBNE" accepted.
2023-12-13 11:17:31.024 +02:00 [DBG] Connection id "0HMVRNEOTOBNE" started.
2023-12-13 11:17:33.016 +02:00 [DBG] Connection id "0HMVRNEOTOBNF" accepted.
2023-12-13 11:17:33.017 +02:00 [DBG] Connection id "0HMVRNEOTOBNF" started.
2023-12-13 11:17:47.648 +02:00 [DBG] Authentication of the HTTPS connection timed out.
2023-12-13 11:17:47.649 +02:00 [DBG] Connection id "0HMVRNEOTOBNE" stopped.
2023-12-13 11:17:47.649 +02:00 [DBG] Connection id "0HMVRNEOTOBNE" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-13 11:17:47.660 +02:00 [DBG] Connection id "0HMVRNEOTOBNF" received FIN.
2023-12-13 11:17:47.668 +02:00 [DBG] Connection id "0HMVRNEOTOBNG" accepted.
2023-12-13 11:17:47.668 +02:00 [DBG] Connection id "0HMVRNEOTOBNG" started.
2023-12-13 11:17:49.669 +02:00 [DBG] Connection id "0HMVRNEOTOBNH" accepted.
2023-12-13 11:17:49.670 +02:00 [DBG] Connection id "0HMVRNEOTOBNH" started.
2023-12-13 11:17:51.171 +02:00 [DBG] Authentication of the HTTPS connection timed out.
2023-12-13 11:17:51.171 +02:00 [DBG] Connection id "0HMVRNEOTOBNF" stopped.
2023-12-13 11:17:51.172 +02:00 [DBG] Connection id "0HMVRNEOTOBNF" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-13 11:17:58.236 +02:00 [DBG] Connection 0HMVRNEOTOBNH established using the following protocol: "Tls12"
2023-12-13 11:17:58.237 +02:00 [DBG] Connection id "0HMVRNEOTOBNG" received FIN.
2023-12-13 11:17:58.237 +02:00 [DBG] Authentication of the HTTPS connection timed out.
2023-12-13 11:17:58.237 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7267/ - -
2023-12-13 11:17:58.237 +02:00 [DBG] Connection id "0HMVRNEOTOBNG" stopped.
2023-12-13 11:17:58.237 +02:00 [DBG] The request path  does not match the path filter
2023-12-13 11:17:58.237 +02:00 [DBG] Connection id "0HMVRNEOTOBNG" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-13 11:17:58.237 +02:00 [DBG] No candidates found for the request path '/'
2023-12-13 11:17:58.237 +02:00 [DBG] Request did not match any endpoints
2023-12-13 11:17:58.238 +02:00 [DBG] Connection id "0HMVRNEOTOBNH" completed keep alive response.
2023-12-13 11:17:58.238 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7267/ - - - 404 0 - 0.7184ms
2023-12-13 11:17:58.305 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7267/favicon.ico - -
2023-12-13 11:17:58.307 +02:00 [DBG] The request path  does not match the path filter
2023-12-13 11:17:58.307 +02:00 [DBG] No candidates found for the request path '/favicon.ico'
2023-12-13 11:17:58.307 +02:00 [DBG] Request did not match any endpoints
2023-12-13 11:17:58.307 +02:00 [DBG] Connection id "0HMVRNEOTOBNH" completed keep alive response.
2023-12-13 11:17:58.307 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7267/favicon.ico - - - 404 0 - 1.8457ms
2023-12-13 11:17:58.335 +02:00 [DBG] Connection id "0HMVRNEOTOBNI" accepted.
2023-12-13 11:17:58.336 +02:00 [DBG] Connection id "0HMVRNEOTOBNI" started.
2023-12-13 11:17:58.366 +02:00 [DBG] Connection 0HMVRNEOTOBNI established using the following protocol: "Tls12"
2023-12-13 11:17:58.367 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7267/apple-touch-icon-precomposed.png - -
2023-12-13 11:17:58.367 +02:00 [DBG] The request path  does not match the path filter
2023-12-13 11:17:58.367 +02:00 [DBG] No candidates found for the request path '/apple-touch-icon-precomposed.png'
2023-12-13 11:17:58.367 +02:00 [DBG] Request did not match any endpoints
2023-12-13 11:17:58.367 +02:00 [DBG] Connection id "0HMVRNEOTOBNI" completed keep alive response.
2023-12-13 11:17:58.367 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7267/apple-touch-icon-precomposed.png - - - 404 0 - 0.4585ms
2023-12-13 11:17:58.368 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7267/apple-touch-icon.png - -
2023-12-13 11:17:58.368 +02:00 [DBG] The request path  does not match the path filter
2023-12-13 11:17:58.368 +02:00 [DBG] No candidates found for the request path '/apple-touch-icon.png'
2023-12-13 11:17:58.368 +02:00 [DBG] Request did not match any endpoints
2023-12-13 11:17:58.368 +02:00 [DBG] Connection id "0HMVRNEOTOBNI" completed keep alive response.
2023-12-13 11:17:58.368 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7267/apple-touch-icon.png - - - 404 0 - 0.3138ms
2023-12-13 11:18:01.131 +02:00 [DBG] Connection id "0HMVRNEOTOBN9" received FIN.
2023-12-13 11:18:01.131 +02:00 [DBG] Connection id "0HMVRNEOTOBN9" disconnecting.
2023-12-13 11:18:01.131 +02:00 [DBG] Connection id "0HMVRNEOTOBN9" sending FIN because: "The client closed the connection."
2023-12-13 11:18:01.132 +02:00 [DBG] Connection id "0HMVRNEOTOBN9" stopped.
2023-12-13 11:18:01.850 +02:00 [DBG] Connection id "0HMVRNEOTOBND" received FIN.
2023-12-13 11:18:01.850 +02:00 [DBG] Connection id "0HMVRNEOTOBND" disconnecting.
2023-12-13 11:18:01.850 +02:00 [DBG] Connection id "0HMVRNEOTOBND" sending FIN because: "The client closed the connection."
2023-12-13 11:18:01.851 +02:00 [DBG] Connection id "0HMVRNEOTOBND" stopped.
2023-12-13 11:18:12.115 +02:00 [DBG] Connection id "0HMVRNEOTOBNB" received FIN.
2023-12-13 11:18:12.115 +02:00 [DBG] Connection id "0HMVRNEOTOBNB" sending FIN because: "The client closed the connection."
2023-12-13 11:18:12.115 +02:00 [DBG] Connection id "0HMVRNEOTOBNB" disconnecting.
2023-12-13 11:18:12.116 +02:00 [DBG] Connection id "0HMVRNEOTOBNB" stopped.
2023-12-13 11:18:26.271 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7267/city - -
2023-12-13 11:18:26.271 +02:00 [DBG] The request path  does not match the path filter
2023-12-13 11:18:26.271 +02:00 [DBG] No candidates found for the request path '/city'
2023-12-13 11:18:26.271 +02:00 [DBG] Request did not match any endpoints
2023-12-13 11:18:26.271 +02:00 [DBG] Connection id "0HMVRNEOTOBNH" completed keep alive response.
2023-12-13 11:18:26.272 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7267/city - - - 404 0 - 0.6775ms
2023-12-13 11:18:28.377 +02:00 [DBG] Connection id "0HMVRNEOTOBNI" received FIN.
2023-12-13 11:18:28.377 +02:00 [DBG] Connection id "0HMVRNEOTOBNI" sending FIN because: "The client closed the connection."
2023-12-13 11:18:28.377 +02:00 [DBG] Connection id "0HMVRNEOTOBNI" disconnecting.
2023-12-13 11:18:28.380 +02:00 [DBG] Connection id "0HMVRNEOTOBNI" stopped.
2023-12-13 11:19:03.905 +02:00 [DBG] Connection id "0HMVRNEOTOBNH" received FIN.
2023-12-13 11:19:04.000 +02:00 [DBG] Connection id "0HMVRNEOTOBNH" sending FIN because: "The client closed the connection."
2023-12-13 11:19:04.027 +02:00 [DBG] Connection id "0HMVRNEOTOBNH" disconnecting.
2023-12-13 11:19:04.027 +02:00 [DBG] Connection id "0HMVRNEOTOBNH" stopped.
2023-12-13 11:19:21.626 +02:00 [DBG] Connection id "0HMVRNEOTOBNJ" accepted.
2023-12-13 11:19:21.626 +02:00 [DBG] Connection id "0HMVRNEOTOBNJ" started.
2023-12-13 11:19:21.651 +02:00 [DBG] Connection 0HMVRNEOTOBNJ established using the following protocol: "Tls12"
2023-12-13 11:19:21.653 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7267/api/files - -
2023-12-13 11:19:21.653 +02:00 [DBG] The request path  does not match the path filter
2023-12-13 11:19:21.654 +02:00 [DBG] Connection id "0HMVRNEOTOBNK" accepted.
2023-12-13 11:19:21.654 +02:00 [DBG] Connection id "0HMVRNEOTOBNK" started.
2023-12-13 11:19:21.657 +02:00 [DBG] No candidates found for the request path '/api/files'
2023-12-13 11:19:21.657 +02:00 [DBG] Request did not match any endpoints
2023-12-13 11:19:21.658 +02:00 [DBG] Connection id "0HMVRNEOTOBNJ" completed keep alive response.
2023-12-13 11:19:21.658 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7267/api/files - - - 404 0 - 5.1014ms
2023-12-13 11:19:21.682 +02:00 [DBG] Connection 0HMVRNEOTOBNK established using the following protocol: "Tls12"
2023-12-13 11:19:52.623 +02:00 [DBG] Connection id "0HMVRNEOTOBNJ" received FIN.
2023-12-13 11:19:52.679 +02:00 [DBG] Connection id "0HMVRNEOTOBNK" received FIN.
2023-12-13 11:19:52.705 +02:00 [DBG] Connection id "0HMVRNEOTOBNK" sending FIN because: "The client closed the connection."
2023-12-13 11:19:52.705 +02:00 [DBG] Connection id "0HMVRNEOTOBNJ" disconnecting.
2023-12-13 11:19:52.707 +02:00 [DBG] Connection id "0HMVRNEOTOBNK" disconnecting.
2023-12-13 11:19:52.732 +02:00 [DBG] Connection id "0HMVRNEOTOBNK" stopped.
2023-12-13 11:19:52.732 +02:00 [DBG] Connection id "0HMVRNEOTOBNJ" sending FIN because: "The client closed the connection."
2023-12-13 11:19:52.757 +02:00 [DBG] Connection id "0HMVRNEOTOBNJ" stopped.
2023-12-13 11:24:31.021 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-13 11:24:31.097 +02:00 [DBG] Hosting starting
2023-12-13 11:24:31.241 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 20C6FB97AF62DC64D18855A7E76246685F1F7431)
2023-12-13 11:24:31.348 +02:00 [INF] Now listening on: https://localhost:7267
2023-12-13 11:24:31.348 +02:00 [INF] Now listening on: http://localhost:5235
2023-12-13 11:24:31.348 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-12-13 11:24:31.349 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-13 11:24:31.349 +02:00 [INF] Hosting environment: Development
2023-12-13 11:24:31.349 +02:00 [INF] Content root path: /Users/matanamichy/Projects/CityInfo.API/CityInfo.API/
2023-12-13 11:24:31.349 +02:00 [DBG] Hosting started
2023-12-13 11:24:53.234 +02:00 [DBG] Connection id "0HMVRNLEHFS4F" accepted.
2023-12-13 11:24:53.235 +02:00 [DBG] Connection id "0HMVRNLEHFS4G" accepted.
2023-12-13 11:24:53.236 +02:00 [DBG] Connection id "0HMVRNLEHFS4F" started.
2023-12-13 11:24:53.236 +02:00 [DBG] Connection id "0HMVRNLEHFS4G" started.
2023-12-13 11:24:53.363 +02:00 [DBG] Connection 0HMVRNLEHFS4G established using the following protocol: "Tls12"
2023-12-13 11:24:53.363 +02:00 [DBG] Connection 0HMVRNLEHFS4F established using the following protocol: "Tls12"
2023-12-13 11:24:53.400 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7267/ - -
2023-12-13 11:24:53.403 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-13 11:24:53.433 +02:00 [DBG] The request path  does not match the path filter
2023-12-13 11:24:53.447 +02:00 [DBG] No candidates found for the request path '/'
2023-12-13 11:24:53.447 +02:00 [DBG] Request did not match any endpoints
2023-12-13 11:24:53.451 +02:00 [DBG] Connection id "0HMVRNLEHFS4F" completed keep alive response.
2023-12-13 11:24:53.454 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7267/ - - - 404 0 - 56.8358ms
2023-12-13 11:24:55.872 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7267/ - -
2023-12-13 11:24:55.873 +02:00 [DBG] The request path  does not match the path filter
2023-12-13 11:24:55.873 +02:00 [DBG] No candidates found for the request path '/'
2023-12-13 11:24:55.873 +02:00 [DBG] Request did not match any endpoints
2023-12-13 11:24:55.874 +02:00 [DBG] Connection id "0HMVRNLEHFS4F" completed keep alive response.
2023-12-13 11:24:55.874 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7267/ - - - 404 0 - 1.6175ms
2023-12-13 11:25:00.841 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7267/ - -
2023-12-13 11:25:00.842 +02:00 [DBG] The request path  does not match the path filter
2023-12-13 11:25:00.842 +02:00 [DBG] No candidates found for the request path '/'
2023-12-13 11:25:00.843 +02:00 [DBG] Request did not match any endpoints
2023-12-13 11:25:00.843 +02:00 [DBG] Connection id "0HMVRNLEHFS4F" completed keep alive response.
2023-12-13 11:25:00.843 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7267/ - - - 404 0 - 1.9925ms
2023-12-13 11:25:01.552 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7267/ - -
2023-12-13 11:25:01.552 +02:00 [DBG] The request path  does not match the path filter
2023-12-13 11:25:01.552 +02:00 [DBG] No candidates found for the request path '/'
2023-12-13 11:25:01.552 +02:00 [DBG] Request did not match any endpoints
2023-12-13 11:25:01.552 +02:00 [DBG] Connection id "0HMVRNLEHFS4F" completed keep alive response.
2023-12-13 11:25:01.552 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7267/ - - - 404 0 - 0.5909ms
2023-12-13 11:25:01.803 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7267/ - -
2023-12-13 11:25:01.803 +02:00 [DBG] The request path  does not match the path filter
2023-12-13 11:25:01.803 +02:00 [DBG] No candidates found for the request path '/'
2023-12-13 11:25:01.803 +02:00 [DBG] Request did not match any endpoints
2023-12-13 11:25:01.803 +02:00 [DBG] Connection id "0HMVRNLEHFS4F" completed keep alive response.
2023-12-13 11:25:01.803 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7267/ - - - 404 0 - 0.5342ms
2023-12-13 11:25:56.178 +02:00 [DBG] Connection id "0HMVRNLEHFS4G" received FIN.
2023-12-13 11:25:56.181 +02:00 [DBG] Connection id "0HMVRNLEHFS4G" sending FIN because: "The client closed the connection."
2023-12-13 11:25:56.187 +02:00 [DBG] Connection id "0HMVRNLEHFS4G" disconnecting.
2023-12-13 11:25:56.191 +02:00 [DBG] Connection id "0HMVRNLEHFS4G" stopped.
2023-12-13 11:30:02.197 +02:00 [DBG] Connection id "0HMVRNLEHFS4F" received FIN.
2023-12-13 11:30:02.296 +02:00 [DBG] Connection id "0HMVRNLEHFS4F" disconnecting.
2023-12-13 11:30:02.300 +02:00 [DBG] Connection id "0HMVRNLEHFS4F" sending FIN because: "The client closed the connection."
2023-12-13 11:30:02.302 +02:00 [DBG] Connection id "0HMVRNLEHFS4F" stopped.
2023-12-13 11:31:05.564 +02:00 [DBG] Connection id "0HMVRNLEHFS4H" received FIN.
2023-12-13 11:31:05.588 +02:00 [DBG] Connection id "0HMVRNLEHFS4H" accepted.
2023-12-13 11:31:05.589 +02:00 [DBG] Connection id "0HMVRNLEHFS4H" started.
2023-12-13 11:31:05.589 +02:00 [DBG] Connection id "0HMVRNLEHFS4I" accepted.
2023-12-13 11:31:05.590 +02:00 [DBG] Connection id "0HMVRNLEHFS4I" started.
2023-12-13 11:31:05.621 +02:00 [DBG] Connection 0HMVRNLEHFS4I established using the following protocol: "Tls12"
2023-12-13 11:31:05.623 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7267/api/cities/1/pointsofinterest/1 - -
2023-12-13 11:31:05.625 +02:00 [DBG] The request path  does not match the path filter
2023-12-13 11:31:05.599 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-13 11:31:05.630 +02:00 [DBG] Connection id "0HMVRNLEHFS4H" stopped.
2023-12-13 11:31:05.631 +02:00 [DBG] Connection id "0HMVRNLEHFS4H" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-13 11:31:05.634 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-12-13 11:31:05.639 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/PointsOfInterest/{pointofInterestid}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-12-13 11:31:05.640 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-12-13 11:31:05.640 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-12-13 11:31:05.670 +02:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-12-13 11:31:05.671 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-13 11:31:05.671 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-13 11:31:05.671 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: ‎-3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: ‎-2000)"]
2023-12-13 11:31:05.671 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-13 11:31:05.671 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: ‎-2000)"]
2023-12-13 11:31:05.671 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-12-13 11:31:05.785 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-13 11:31:05.914 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-12-13 11:31:05.917 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-12-13 11:31:05.917 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-12-13 11:31:05.918 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-13 11:31:05.918 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-13 11:31:05.918 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-12-13 11:31:05.919 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-12-13 11:31:05.920 +02:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-12-13 11:31:05.920 +02:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-12-13 11:31:05.920 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-12-13 11:31:05.920 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-12-13 11:31:05.920 +02:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-12-13 11:31:05.920 +02:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-12-13 11:31:06.592 +02:00 [DBG] The property 'PointOfInterestDto.CityId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-13 11:31:06.755 +02:00 [DBG] Entity Framework Core 7.0.5 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.5' with options: None
2023-12-13 11:31:06.793 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2023-12-13 11:31:07.052 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-13 11:31:07.101 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-13 11:31:07.103 +02:00 [DBG] Creating DbConnection.
2023-12-13 11:31:07.113 +02:00 [DBG] Created DbConnection. (6ms).
2023-12-13 11:31:07.120 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (17ms).
2023-12-13 11:31:07.124 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (25ms).
2023-12-13 11:31:07.132 +02:00 [DBG] Opening connection to database 'main' on server ''.
2023-12-13 11:31:07.143 +02:00 [DBG] Opened connection to database 'main' on server ''.
2023-12-13 11:31:07.155 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-12-13 11:31:07.170 +02:00 [ERR] Failed executing DbCommand (20ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-12-13 11:31:07.178 +02:00 [DBG] Closing connection to database 'main' on server ''.
2023-12-13 11:31:07.185 +02:00 [DBG] Closed connection to database 'main' on server '' (3ms).
2023-12-13 11:31:07.188 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CityInfo.API.DbContexts.CityInfoContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: Cities'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: Cities'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-12-13 11:31:07.310 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) in 1634.9589ms
2023-12-13 11:31:07.311 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-12-13 11:31:07.312 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: Cities'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CityInfo.API.Services.CityInfoRepository.CityExistAsync(Int32 cityId) in /Users/matanamichy/Projects/CityInfo.API/CityInfo.API/Services/CityInfoRepository.cs:line 34
   at CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest(Int32 cityId, Int32 pointOfInterestId) in /Users/matanamichy/Projects/CityInfo.API/CityInfo.API/Controllers/PointsOfInterestController.cs:line 53
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-12-13 11:31:07.327 +02:00 [DBG] Connection id "0HMVRNLEHFS4I" completed keep alive response.
2023-12-13 11:31:07.331 +02:00 [DBG] 'CityInfoContext' disposed.
2023-12-13 11:31:07.338 +02:00 [DBG] Disposing connection to database 'main' on server ''.
2023-12-13 11:31:07.340 +02:00 [DBG] Disposed connection to database 'main' on server '' (1ms).
2023-12-13 11:31:07.340 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7267/api/cities/1/pointsofinterest/1 - - - 500 - text/plain;+charset=utf-8 1717.1514ms
2023-12-13 11:31:33.975 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7267/api/cities/1?includePointOfInterest=true - -
2023-12-13 11:31:33.976 +02:00 [DBG] The request path  does not match the path filter
2023-12-13 11:31:33.977 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-12-13 11:31:33.978 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2023-12-13 11:31:33.978 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-12-13 11:31:33.978 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-12-13 11:31:33.981 +02:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-12-13 11:31:33.982 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-13 11:31:33.982 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-13 11:31:33.982 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: ‎-3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: ‎-2000)"]
2023-12-13 11:31:33.982 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-13 11:31:33.982 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: ‎-2000)"]
2023-12-13 11:31:33.982 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-12-13 11:31:33.983 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-12-13 11:31:33.993 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-12-13 11:31:33.994 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-12-13 11:31:33.994 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-12-13 11:31:33.994 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-12-13 11:31:33.994 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-12-13 11:31:33.994 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-12-13 11:31:33.994 +02:00 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' ...
2023-12-13 11:31:33.995 +02:00 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' using the name 'includePointOfInterest' in request data ...
2023-12-13 11:31:33.996 +02:00 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2023-12-13 11:31:33.996 +02:00 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2023-12-13 11:31:33.996 +02:00 [DBG] Attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean' ...
2023-12-13 11:31:33.996 +02:00 [DBG] Done attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean'.
2023-12-13 11:31:42.257 +02:00 [DBG] Entity Framework Core 7.0.5 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.5' with options: None
2023-12-13 11:31:42.264 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.PointsOfInterest)
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-12-13 11:31:42.289 +02:00 [DBG] Including navigation: 'City.PointsOfInterest'.
2023-12-13 11:31:42.392 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterestDto.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterestDto.CityId (no field, int?) Shadow FK Index, 4], [Property: PointOfInterestDto.Description (string), 5], [Property: PointOfInterestDto.Name (string) Required, 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointOfInterestDto AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-13 11:31:42.403 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-13 11:31:42.403 +02:00 [DBG] Creating DbConnection.
2023-12-13 11:31:42.403 +02:00 [DBG] Created DbConnection. (0ms).
2023-12-13 11:31:42.403 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-13 11:31:42.403 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-13 11:31:42.403 +02:00 [DBG] Opening connection to database 'main' on server ''.
2023-12-13 11:31:42.403 +02:00 [DBG] Opened connection to database 'main' on server ''.
2023-12-13 11:31:42.403 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterestDto" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-12-13 11:31:42.403 +02:00 [ERR] Failed executing DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterestDto" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2023-12-13 11:31:42.403 +02:00 [DBG] Closing connection to database 'main' on server ''.
2023-12-13 11:31:42.404 +02:00 [DBG] Closed connection to database 'main' on server '' (0ms).
2023-12-13 11:31:42.404 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CityInfo.API.DbContexts.CityInfoContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: Cities'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: Cities'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-12-13 11:31:42.453 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 8471.4142ms
2023-12-13 11:31:42.453 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-12-13 11:31:42.453 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: Cities'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CityInfo.API.Services.CityInfoRepository.GetCityAsync(Int32 cityId, Boolean includePointOfInterest) in /Users/matanamichy/Projects/CityInfo.API/CityInfo.API/Services/CityInfoRepository.cs:line 25
   at CityInfo.API.Controllers.CitiesController.GetCity(Int32 id, Boolean includePointOfInterest) in /Users/matanamichy/Projects/CityInfo.API/CityInfo.API/Controllers/CitiesController.cs:line 32
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-12-13 11:31:42.459 +02:00 [DBG] Connection id "0HMVRNLEHFS4I" completed keep alive response.
2023-12-13 11:31:42.459 +02:00 [DBG] 'CityInfoContext' disposed.
2023-12-13 11:31:42.459 +02:00 [DBG] Disposing connection to database 'main' on server ''.
2023-12-13 11:31:42.459 +02:00 [DBG] Disposed connection to database 'main' on server '' (0ms).
2023-12-13 11:31:42.459 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7267/api/cities/1?includePointOfInterest=true - - - 500 - text/plain;+charset=utf-8 8484.4758ms
2023-12-13 11:31:58.556 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7267/api/cities/1 - -
2023-12-13 11:31:58.557 +02:00 [DBG] The request path  does not match the path filter
2023-12-13 11:31:58.557 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-12-13 11:31:58.557 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2023-12-13 11:31:58.557 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-12-13 11:31:58.557 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-12-13 11:31:58.557 +02:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-12-13 11:31:58.558 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-13 11:31:58.558 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-13 11:31:58.558 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: ‎-3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: ‎-2000)"]
2023-12-13 11:31:58.558 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-13 11:31:58.558 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: ‎-2000)"]
2023-12-13 11:31:58.558 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-12-13 11:31:58.562 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-12-13 11:31:58.562 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-12-13 11:31:58.562 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-12-13 11:31:58.562 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-12-13 11:31:58.562 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-12-13 11:31:58.563 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-12-13 11:31:58.563 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-12-13 11:31:58.563 +02:00 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' ...
2023-12-13 11:31:58.563 +02:00 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' using the name '' in request data ...
2023-12-13 11:31:58.563 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointOfInterest' of type 'System.Boolean'.
2023-12-13 11:31:58.563 +02:00 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2023-12-13 11:31:58.563 +02:00 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2023-12-13 11:31:58.563 +02:00 [DBG] Attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean' ...
2023-12-13 11:31:58.564 +02:00 [DBG] Done attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean'.
2023-12-13 11:31:58.610 +02:00 [DBG] Entity Framework Core 7.0.5 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.5' with options: None
2023-12-13 11:31:58.611 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-12-13 11:31:58.613 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-13 11:31:58.613 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-13 11:31:58.613 +02:00 [DBG] Creating DbConnection.
2023-12-13 11:31:58.613 +02:00 [DBG] Created DbConnection. (0ms).
2023-12-13 11:31:58.613 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-13 11:31:58.613 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-13 11:31:58.613 +02:00 [DBG] Opening connection to database 'main' on server ''.
2023-12-13 11:31:58.613 +02:00 [DBG] Opened connection to database 'main' on server ''.
2023-12-13 11:31:58.613 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-12-13 11:31:58.613 +02:00 [ERR] Failed executing DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-12-13 11:31:58.614 +02:00 [DBG] Closing connection to database 'main' on server ''.
2023-12-13 11:31:58.614 +02:00 [DBG] Closed connection to database 'main' on server '' (0ms).
2023-12-13 11:31:58.614 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CityInfo.API.DbContexts.CityInfoContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: Cities'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: Cities'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-12-13 11:31:58.661 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 103.0687ms
2023-12-13 11:31:58.661 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-12-13 11:31:58.662 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: Cities'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CityInfo.API.Services.CityInfoRepository.GetCityAsync(Int32 cityId, Boolean includePointOfInterest) in /Users/matanamichy/Projects/CityInfo.API/CityInfo.API/Services/CityInfoRepository.cs:line 28
   at CityInfo.API.Controllers.CitiesController.GetCity(Int32 id, Boolean includePointOfInterest) in /Users/matanamichy/Projects/CityInfo.API/CityInfo.API/Controllers/CitiesController.cs:line 32
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-12-13 11:31:58.666 +02:00 [DBG] Connection id "0HMVRNLEHFS4I" completed keep alive response.
2023-12-13 11:31:58.666 +02:00 [DBG] 'CityInfoContext' disposed.
2023-12-13 11:31:58.666 +02:00 [DBG] Disposing connection to database 'main' on server ''.
2023-12-13 11:31:58.666 +02:00 [DBG] Disposed connection to database 'main' on server '' (0ms).
2023-12-13 11:31:58.666 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7267/api/cities/1 - - - 500 - text/plain;+charset=utf-8 109.6983ms
2023-12-13 11:39:45.851 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7267/api/cities/1 - -
2023-12-13 11:39:45.854 +02:00 [DBG] The request path  does not match the path filter
2023-12-13 11:39:45.854 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-12-13 11:39:45.854 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2023-12-13 11:39:45.854 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-12-13 11:39:45.854 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-12-13 11:39:45.854 +02:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-12-13 11:39:45.854 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-13 11:39:45.854 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-13 11:39:45.854 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: ‎-3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: ‎-2000)"]
2023-12-13 11:39:45.854 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-13 11:39:45.854 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: ‎-2000)"]
2023-12-13 11:39:45.855 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-12-13 11:40:19.793 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-12-13 11:40:19.794 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-12-13 11:40:19.794 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-12-13 11:40:19.794 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-12-13 11:40:19.794 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-12-13 11:40:19.794 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-12-13 11:40:19.794 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-12-13 11:40:19.794 +02:00 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' ...
2023-12-13 11:40:19.794 +02:00 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' using the name '' in request data ...
2023-12-13 11:40:19.794 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointOfInterest' of type 'System.Boolean'.
2023-12-13 11:40:19.795 +02:00 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2023-12-13 11:40:19.795 +02:00 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2023-12-13 11:40:19.795 +02:00 [DBG] Attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean' ...
2023-12-13 11:40:19.795 +02:00 [DBG] Done attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean'.
2023-12-13 11:40:29.492 +02:00 [DBG] Entity Framework Core 7.0.5 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.5' with options: None
2023-12-13 11:40:29.496 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-13 11:40:29.496 +02:00 [DBG] Creating DbConnection.
2023-12-13 11:40:29.496 +02:00 [DBG] Created DbConnection. (0ms).
2023-12-13 11:40:29.496 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-13 11:40:29.496 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-13 11:40:29.496 +02:00 [DBG] Opening connection to database 'main' on server ''.
2023-12-13 11:40:29.496 +02:00 [DBG] Opened connection to database 'main' on server ''.
2023-12-13 11:40:29.496 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-12-13 11:40:29.496 +02:00 [ERR] Failed executing DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-12-13 11:40:29.496 +02:00 [DBG] Closing connection to database 'main' on server ''.
2023-12-13 11:40:29.496 +02:00 [DBG] Closed connection to database 'main' on server '' (0ms).
2023-12-13 11:40:29.497 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CityInfo.API.DbContexts.CityInfoContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: Cities'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: Cities'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-12-13 11:40:36.097 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 50243.8229ms
2023-12-13 11:40:36.101 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-12-13 11:40:36.106 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: Cities'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CityInfo.API.Services.CityInfoRepository.GetCityAsync(Int32 cityId, Boolean includePointOfInterest) in /Users/matanamichy/Projects/CityInfo.API/CityInfo.API/Services/CityInfoRepository.cs:line 28
   at CityInfo.API.Controllers.CitiesController.GetCity(Int32 id, Boolean includePointOfInterest) in /Users/matanamichy/Projects/CityInfo.API/CityInfo.API/Controllers/CitiesController.cs:line 32
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-12-13 11:40:36.111 +02:00 [DBG] Connection id "0HMVRNLEHFS4I" completed keep alive response.
2023-12-13 11:40:36.112 +02:00 [DBG] 'CityInfoContext' disposed.
2023-12-13 11:40:36.112 +02:00 [DBG] Disposing connection to database 'main' on server ''.
2023-12-13 11:40:36.112 +02:00 [DBG] Disposed connection to database 'main' on server '' (0ms).
2023-12-13 11:40:36.112 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7267/api/cities/1 - - - 500 - text/plain;+charset=utf-8 50262.4321ms
2023-12-13 11:40:43.838 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7267/api/cities - -
2023-12-13 11:40:43.838 +02:00 [DBG] The request path  does not match the path filter
2023-12-13 11:40:43.838 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-13 11:40:43.838 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-13 11:40:43.838 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-12-13 11:40:43.838 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-12-13 11:40:43.841 +02:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-12-13 11:40:43.841 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-13 11:40:43.841 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-13 11:40:43.841 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: ‎-3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: ‎-2000)"]
2023-12-13 11:40:43.842 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-13 11:40:43.842 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: ‎-2000)"]
2023-12-13 11:40:43.842 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-12-13 11:40:53.155 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-12-13 11:40:53.159 +02:00 [DBG] Entity Framework Core 7.0.5 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.5' with options: None
2023-12-13 11:40:53.167 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2023-12-13 11:40:53.174 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-12-13 11:40:53.175 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-13 11:40:53.175 +02:00 [DBG] Creating DbConnection.
2023-12-13 11:40:53.175 +02:00 [DBG] Created DbConnection. (0ms).
2023-12-13 11:40:53.175 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-13 11:40:53.175 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-13 11:40:53.175 +02:00 [DBG] Opening connection to database 'main' on server ''.
2023-12-13 11:40:53.175 +02:00 [DBG] Opened connection to database 'main' on server ''.
2023-12-13 11:40:53.175 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-12-13 11:40:53.176 +02:00 [ERR] Failed executing DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-12-13 11:40:53.176 +02:00 [DBG] Closing connection to database 'main' on server ''.
2023-12-13 11:40:53.176 +02:00 [DBG] Closed connection to database 'main' on server '' (0ms).
2023-12-13 11:40:53.177 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CityInfo.API.DbContexts.CityInfoContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: Cities'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: Cities'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2023-12-13 11:40:53.231 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 9390.0962ms
2023-12-13 11:40:53.232 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-12-13 11:40:53.232 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: Cities'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CityInfo.API.Services.CityInfoRepository.GetCitiesAsync() in /Users/matanamichy/Projects/CityInfo.API/CityInfo.API/Services/CityInfoRepository.cs:line 18
   at CityInfo.API.Controllers.CitiesController.GetCities() in /Users/matanamichy/Projects/CityInfo.API/CityInfo.API/Controllers/CitiesController.cs:line 25
   at lambda_method63(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-12-13 11:40:53.237 +02:00 [DBG] Connection id "0HMVRNLEHFS4I" completed keep alive response.
2023-12-13 11:40:53.237 +02:00 [DBG] 'CityInfoContext' disposed.
2023-12-13 11:40:53.237 +02:00 [DBG] Disposing connection to database 'main' on server ''.
2023-12-13 11:40:53.237 +02:00 [DBG] Disposed connection to database 'main' on server '' (0ms).
2023-12-13 11:40:53.237 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7267/api/cities - - - 500 - text/plain;+charset=utf-8 9399.9685ms
2023-12-13 11:41:13.763 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-13 11:41:13.837 +02:00 [DBG] Hosting starting
2023-12-13 11:41:13.946 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 20C6FB97AF62DC64D18855A7E76246685F1F7431)
2023-12-13 11:41:14.040 +02:00 [INF] Now listening on: https://localhost:7267
2023-12-13 11:41:14.040 +02:00 [INF] Now listening on: http://localhost:5235
2023-12-13 11:41:14.040 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-12-13 11:41:14.040 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-13 11:41:14.041 +02:00 [INF] Hosting environment: Development
2023-12-13 11:41:14.041 +02:00 [INF] Content root path: /Users/matanamichy/Projects/CityInfo.API/CityInfo.API/
2023-12-13 11:41:14.041 +02:00 [DBG] Hosting started
2023-12-13 11:41:16.360 +02:00 [DBG] Connection id "0HMVRNUJHBDJL" received FIN.
2023-12-13 11:41:16.373 +02:00 [DBG] Connection id "0HMVRNUJHBDJL" accepted.
2023-12-13 11:41:16.374 +02:00 [DBG] Connection id "0HMVRNUJHBDJL" started.
2023-12-13 11:41:16.375 +02:00 [DBG] Connection id "0HMVRNUJHBDJM" accepted.
2023-12-13 11:41:16.376 +02:00 [DBG] Connection id "0HMVRNUJHBDJM" started.
2023-12-13 11:41:16.386 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-13 11:41:16.404 +02:00 [DBG] Connection id "0HMVRNUJHBDJL" stopped.
2023-12-13 11:41:16.407 +02:00 [DBG] Connection id "0HMVRNUJHBDJL" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-13 11:41:16.422 +02:00 [DBG] Connection 0HMVRNUJHBDJM established using the following protocol: "Tls12"
2023-12-13 11:41:16.451 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7267/api/cities - -
2023-12-13 11:41:16.451 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-13 11:41:16.481 +02:00 [DBG] The request path  does not match the path filter
2023-12-13 11:41:16.499 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-13 11:41:16.503 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-13 11:41:16.503 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-12-13 11:41:16.505 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-12-13 11:41:16.524 +02:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-12-13 11:41:16.524 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-13 11:41:16.524 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-13 11:41:16.524 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: ‎-3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: ‎-2000)"]
2023-12-13 11:41:16.524 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-13 11:41:16.524 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: ‎-2000)"]
2023-12-13 11:41:16.525 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-12-13 11:41:16.619 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-13 11:41:19.137 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-12-13 11:41:19.735 +02:00 [DBG] The property 'PointOfInterestDto.CityId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-13 11:41:19.897 +02:00 [DBG] Entity Framework Core 7.0.5 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.5' with options: None
2023-12-13 11:41:19.935 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2023-12-13 11:41:20.214 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-12-13 11:41:20.252 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-13 11:41:20.255 +02:00 [DBG] Creating DbConnection.
2023-12-13 11:41:20.272 +02:00 [DBG] Created DbConnection. (14ms).
2023-12-13 11:41:20.279 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (23ms).
2023-12-13 11:41:20.281 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (29ms).
2023-12-13 11:41:20.289 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-12-13 11:41:20.302 +02:00 [DBG] Opened connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 11:41:20.310 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-12-13 11:41:20.324 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-12-13 11:41:20.348 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 11:41:20.361 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 11:41:20.361 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 11:41:20.369 +02:00 [DBG] Closing data reader to 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 11:41:20.376 +02:00 [DBG] A data reader for 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db' is being disposed after spending 45ms reading results.
2023-12-13 11:41:20.383 +02:00 [DBG] Closing connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 11:41:20.387 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (4ms).
2023-12-13 11:41:20.401 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-13 11:41:20.403 +02:00 [DBG] No information found on request to perform content negotiation.
2023-12-13 11:41:20.403 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-13 11:41:20.403 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-13 11:41:20.404 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-13 11:41:20.404 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-13 11:41:20.515 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 3986.4165ms
2023-12-13 11:41:20.515 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-12-13 11:41:20.515 +02:00 [DBG] Connection id "0HMVRNUJHBDJM" completed keep alive response.
2023-12-13 11:41:20.520 +02:00 [DBG] 'CityInfoContext' disposed.
2023-12-13 11:41:20.528 +02:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-12-13 11:41:20.529 +02:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2023-12-13 11:41:20.530 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7267/api/cities - - - 200 247 application/json;+charset=utf-8 4082.1165ms
2023-12-13 11:41:25.694 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7267/api/cities/1 - -
2023-12-13 11:41:25.694 +02:00 [DBG] The request path  does not match the path filter
2023-12-13 11:41:25.695 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-12-13 11:41:25.696 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2023-12-13 11:41:25.696 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-12-13 11:41:25.696 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-12-13 11:41:25.714 +02:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-12-13 11:41:25.714 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-13 11:41:25.714 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-13 11:41:25.714 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: ‎-3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: ‎-2000)"]
2023-12-13 11:41:25.714 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-13 11:41:25.714 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: ‎-2000)"]
2023-12-13 11:41:25.714 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-12-13 11:41:35.097 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-12-13 11:41:35.104 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-12-13 11:41:35.106 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-12-13 11:41:35.107 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-12-13 11:41:35.107 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-12-13 11:41:35.107 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-12-13 11:41:35.110 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-12-13 11:41:35.113 +02:00 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' ...
2023-12-13 11:41:35.113 +02:00 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' using the name '' in request data ...
2023-12-13 11:41:35.113 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointOfInterest' of type 'System.Boolean'.
2023-12-13 11:41:35.113 +02:00 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2023-12-13 11:41:35.113 +02:00 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2023-12-13 11:41:35.113 +02:00 [DBG] Attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean' ...
2023-12-13 11:41:35.114 +02:00 [DBG] Done attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean'.
2023-12-13 11:41:35.118 +02:00 [DBG] Entity Framework Core 7.0.5 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.5' with options: None
2023-12-13 11:41:35.127 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-12-13 11:41:35.155 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-13 11:41:35.166 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-13 11:41:35.166 +02:00 [DBG] Creating DbConnection.
2023-12-13 11:41:35.166 +02:00 [DBG] Created DbConnection. (0ms).
2023-12-13 11:41:35.166 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-13 11:41:35.168 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-13 11:41:35.168 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-12-13 11:41:35.168 +02:00 [DBG] Opened connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 11:41:35.172 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-12-13 11:41:35.177 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-12-13 11:41:35.177 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 11:41:35.177 +02:00 [DBG] Closing data reader to 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 11:41:35.177 +02:00 [DBG] A data reader for 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db' is being disposed after spending 0ms reading results.
2023-12-13 11:41:35.177 +02:00 [DBG] Closing connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 11:41:35.177 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-12-13 11:41:35.179 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-13 11:41:35.180 +02:00 [DBG] No information found on request to perform content negotiation.
2023-12-13 11:41:35.180 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-13 11:41:35.180 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-13 11:41:35.180 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-13 11:41:35.180 +02:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityWithoutPointOfInterestDto'.
2023-12-13 11:41:35.180 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 9466.1527ms
2023-12-13 11:41:35.180 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-12-13 11:41:35.180 +02:00 [DBG] Connection id "0HMVRNUJHBDJM" completed keep alive response.
2023-12-13 11:41:35.180 +02:00 [DBG] 'CityInfoContext' disposed.
2023-12-13 11:41:35.180 +02:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-12-13 11:41:35.180 +02:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-12-13 11:41:35.180 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7267/api/cities/1 - - - 200 75 application/json;+charset=utf-8 9486.6097ms
2023-12-13 11:41:42.754 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7267/api/cities/1/pointsofinterest - -
2023-12-13 11:41:42.755 +02:00 [DBG] The request path  does not match the path filter
2023-12-13 11:41:42.755 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-12-13 11:41:42.755 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/PointsOfInterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-12-13 11:41:42.755 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-12-13 11:41:42.755 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-12-13 11:41:42.759 +02:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-12-13 11:41:42.759 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-13 11:41:42.760 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-13 11:41:42.760 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: ‎-3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: ‎-2000)"]
2023-12-13 11:41:42.760 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-13 11:41:42.760 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: ‎-2000)"]
2023-12-13 11:41:42.760 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-12-13 11:41:42.762 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-12-13 11:41:42.763 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-12-13 11:41:42.763 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-12-13 11:41:42.763 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-13 11:41:42.763 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-13 11:41:42.763 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-12-13 11:41:42.763 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-12-13 11:41:42.808 +02:00 [DBG] Entity Framework Core 7.0.5 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.5' with options: None
2023-12-13 11:41:42.809 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2023-12-13 11:41:42.815 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-13 11:41:42.823 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-13 11:41:42.824 +02:00 [DBG] Creating DbConnection.
2023-12-13 11:41:42.824 +02:00 [DBG] Created DbConnection. (0ms).
2023-12-13 11:41:42.824 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-13 11:41:42.824 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-13 11:41:42.824 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-12-13 11:41:42.824 +02:00 [DBG] Opened connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 11:41:42.824 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-12-13 11:41:42.824 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-12-13 11:41:42.825 +02:00 [DBG] Closing data reader to 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 11:41:42.825 +02:00 [DBG] A data reader for 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db' is being disposed after spending 0ms reading results.
2023-12-13 11:41:42.825 +02:00 [DBG] Closing connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 11:41:42.825 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-12-13 11:41:42.826 +02:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0)'
2023-12-13 11:41:42.828 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-12-13 11:41:42.828 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-13 11:41:42.828 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-13 11:41:42.828 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-13 11:41:42.828 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-12-13 11:41:42.828 +02:00 [DBG] Opened connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 11:41:42.829 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-12-13 11:41:42.829 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-12-13 11:41:42.831 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 11:41:42.834 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 11:41:42.834 +02:00 [DBG] Closing data reader to 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 11:41:42.834 +02:00 [DBG] A data reader for 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db' is being disposed after spending 5ms reading results.
2023-12-13 11:41:42.834 +02:00 [DBG] Closing connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 11:41:42.834 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-12-13 11:41:42.836 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-13 11:41:42.836 +02:00 [DBG] No information found on request to perform content negotiation.
2023-12-13 11:41:42.836 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-13 11:41:42.836 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-13 11:41:42.836 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-13 11:41:42.836 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-13 11:41:42.837 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 77.7016ms
2023-12-13 11:41:42.837 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-12-13 11:41:42.838 +02:00 [DBG] Connection id "0HMVRNUJHBDJM" completed keep alive response.
2023-12-13 11:41:42.838 +02:00 [DBG] 'CityInfoContext' disposed.
2023-12-13 11:41:42.838 +02:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-12-13 11:41:42.838 +02:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-12-13 11:41:42.838 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7267/api/cities/1/pointsofinterest - - - 200 207 application/json;+charset=utf-8 83.5973ms
2023-12-13 12:19:59.388 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-13 12:19:59.472 +02:00 [DBG] Hosting starting
2023-12-13 12:19:59.712 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 20C6FB97AF62DC64D18855A7E76246685F1F7431)
2023-12-13 12:19:59.829 +02:00 [INF] Now listening on: https://localhost:7267
2023-12-13 12:19:59.829 +02:00 [INF] Now listening on: http://localhost:5235
2023-12-13 12:19:59.830 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-12-13 12:19:59.830 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-13 12:19:59.830 +02:00 [INF] Hosting environment: Development
2023-12-13 12:19:59.830 +02:00 [INF] Content root path: /Users/matanamichy/Projects/CityInfo.API/CityInfo.API/
2023-12-13 12:19:59.830 +02:00 [DBG] Hosting started
2023-12-13 12:21:02.711 +02:00 [DBG] Connection id "0HMVROKQNC2VP" received FIN.
2023-12-13 12:21:02.723 +02:00 [DBG] Connection id "0HMVROKQNC2VP" accepted.
2023-12-13 12:21:02.724 +02:00 [DBG] Connection id "0HMVROKQNC2VP" started.
2023-12-13 12:21:02.726 +02:00 [DBG] Connection id "0HMVROKQNC2VQ" accepted.
2023-12-13 12:21:02.729 +02:00 [DBG] Connection id "0HMVROKQNC2VQ" started.
2023-12-13 12:21:02.823 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-13 12:21:02.846 +02:00 [DBG] Connection id "0HMVROKQNC2VP" stopped.
2023-12-13 12:21:02.849 +02:00 [DBG] Connection id "0HMVROKQNC2VP" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-13 12:21:02.862 +02:00 [DBG] Connection 0HMVROKQNC2VQ established using the following protocol: "Tls12"
2023-12-13 12:21:02.889 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7267/api/cities/1/pointsofinterest application/json 117
2023-12-13 12:21:02.890 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-13 12:21:02.905 +02:00 [DBG] POST requests are not supported
2023-12-13 12:21:02.923 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-12-13 12:21:02.927 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/PointsOfInterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-12-13 12:21:02.927 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-12-13 12:21:02.928 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-12-13 12:21:02.956 +02:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterest(Int32, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-12-13 12:21:02.957 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-13 12:21:02.957 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-13 12:21:02.957 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: ‎-3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: ‎-2000)"]
2023-12-13 12:21:02.957 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-13 12:21:02.957 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: ‎-2000)"]
2023-12-13 12:21:02.957 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-12-13 12:21:03.062 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-13 12:21:03.196 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-12-13 12:21:03.198 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-12-13 12:21:03.199 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-12-13 12:21:03.199 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-13 12:21:03.199 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-13 12:21:03.199 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-12-13 12:21:03.200 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-12-13 12:21:03.201 +02:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2023-12-13 12:21:03.202 +02:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2023-12-13 12:21:03.202 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-12-13 12:21:03.203 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-12-13 12:21:03.209 +02:00 [DBG] Connection id "0HMVROKQNC2VQ", Request id "0HMVROKQNC2VQ:00000002": started reading request body.
2023-12-13 12:21:03.210 +02:00 [DBG] Connection id "0HMVROKQNC2VQ", Request id "0HMVROKQNC2VQ:00000002": done reading request body.
2023-12-13 12:21:03.314 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-12-13 12:21:03.314 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-12-13 12:21:03.314 +02:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2023-12-13 12:21:03.318 +02:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-12-13 12:21:04.068 +02:00 [DBG] Entity Framework Core 7.0.5 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.5' with options: None
2023-12-13 12:21:04.108 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2023-12-13 12:21:04.365 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-13 12:21:04.413 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-13 12:21:04.415 +02:00 [DBG] Creating DbConnection.
2023-12-13 12:21:04.435 +02:00 [DBG] Created DbConnection. (16ms).
2023-12-13 12:21:04.442 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (26ms).
2023-12-13 12:21:04.446 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (34ms).
2023-12-13 12:21:04.454 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-12-13 12:21:04.468 +02:00 [DBG] Opened connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:21:04.480 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-12-13 12:21:04.499 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-12-13 12:21:04.509 +02:00 [DBG] Closing data reader to 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:21:04.515 +02:00 [DBG] A data reader for 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db' is being disposed after spending 10ms reading results.
2023-12-13 12:21:04.521 +02:00 [DBG] Closing connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:21:04.526 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (4ms).
2023-12-13 12:21:24.583 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-12-13 12:21:24.618 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-13 12:21:24.628 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-13 12:21:24.628 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-13 12:21:24.628 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-13 12:21:24.628 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-12-13 12:21:24.628 +02:00 [DBG] Opened connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:21:24.628 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-12-13 12:21:24.629 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-12-13 12:21:24.649 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 12:21:24.662 +02:00 [DBG] Closing data reader to 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:21:24.663 +02:00 [DBG] A data reader for 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db' is being disposed after spending 33ms reading results.
2023-12-13 12:21:24.663 +02:00 [DBG] Closing connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:21:24.663 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-12-13 12:21:43.129 +02:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-12-13 12:21:43.131 +02:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-12-13 12:21:43.148 +02:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointsOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 12:21:43.174 +02:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 12:21:43.187 +02:00 [DBG] The navigation 'PointOfInterest.City' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 12:21:43.200 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 12:21:43.202 +02:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-12-13 12:21:43.270 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-12-13 12:21:43.270 +02:00 [DBG] Opened connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:21:43.274 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-13 12:21:43.274 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-13 12:21:43.274 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-13 12:21:43.274 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2023-12-13 12:21:43.275 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2023-12-13 12:21:43.290 +02:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-12-13 12:21:43.296 +02:00 [DBG] Closing data reader to 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:21:43.296 +02:00 [DBG] A data reader for 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db' is being disposed after spending 21ms reading results.
2023-12-13 12:21:43.296 +02:00 [DBG] Closing connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:21:43.297 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-12-13 12:21:43.304 +02:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 12:21:43.305 +02:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2023-12-13 12:21:52.360 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-13 12:21:52.363 +02:00 [DBG] No information found on request to perform content negotiation.
2023-12-13 12:21:52.363 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-13 12:21:52.363 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-13 12:21:52.363 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-13 12:21:52.363 +02:00 [INF] Executing CreatedAtRouteResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2023-12-13 12:21:52.374 +02:00 [DBG] Found the endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2023-12-13 12:21:52.433 +02:00 [DBG] Failed to process the template api/cities/{cityId}/PointsOfInterest/{pointofInterestid} for CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API). A required route value is missing, or has a different value from the required default values. Supplied ambient values { "action": "CreatePointOfInterest", "cityId": "1", "controller": "PointsOfInterest" } and { "cityId": "1", "pointOfInterest": "7" } with default values { "action": "GetPointOfInterest", "controller": "PointsOfInterest" }
2023-12-13 12:21:52.434 +02:00 [DBG] Link generation failed for endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)"]
2023-12-13 12:21:52.445 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 49485.581ms
2023-12-13 12:21:52.450 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-12-13 12:21:52.456 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No route matches the supplied values.
   at Microsoft.AspNetCore.Mvc.CreatedAtRouteResult.OnFormatting(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsync(ActionContext context, ObjectResult result)
   at Microsoft.AspNetCore.Mvc.ObjectResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-12-13 12:21:52.465 +02:00 [DBG] Connection id "0HMVROKQNC2VQ" completed keep alive response.
2023-12-13 12:21:52.501 +02:00 [DBG] 'CityInfoContext' disposed.
2023-12-13 12:21:52.508 +02:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-12-13 12:21:52.510 +02:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2023-12-13 12:21:52.510 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7267/api/cities/1/pointsofinterest application/json 117 - 500 - text/plain;+charset=utf-8 49625.0649ms
2023-12-13 12:22:05.686 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7267/api/cities - -
2023-12-13 12:22:05.698 +02:00 [DBG] The request path  does not match the path filter
2023-12-13 12:22:05.698 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-13 12:22:05.698 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-13 12:22:05.698 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-12-13 12:22:05.699 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-12-13 12:22:05.701 +02:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-12-13 12:22:05.701 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-13 12:22:05.701 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-13 12:22:05.701 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: ‎-3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: ‎-2000)"]
2023-12-13 12:22:05.701 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-13 12:22:05.701 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: ‎-2000)"]
2023-12-13 12:22:05.701 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-12-13 12:22:09.285 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-12-13 12:22:09.339 +02:00 [DBG] Entity Framework Core 7.0.5 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.5' with options: None
2023-12-13 12:22:09.344 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2023-12-13 12:22:09.349 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-12-13 12:22:09.349 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-13 12:22:09.349 +02:00 [DBG] Creating DbConnection.
2023-12-13 12:22:09.349 +02:00 [DBG] Created DbConnection. (0ms).
2023-12-13 12:22:09.349 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-13 12:22:09.350 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-13 12:22:09.350 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-12-13 12:22:09.350 +02:00 [DBG] Opened connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:22:09.350 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-12-13 12:22:09.350 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2023-12-13 12:22:09.350 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 12:22:09.350 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 12:22:09.350 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 12:22:09.350 +02:00 [DBG] Closing data reader to 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:22:09.350 +02:00 [DBG] A data reader for 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db' is being disposed after spending 0ms reading results.
2023-12-13 12:22:09.351 +02:00 [DBG] Closing connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:22:09.351 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-12-13 12:22:09.360 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-13 12:22:09.360 +02:00 [DBG] No information found on request to perform content negotiation.
2023-12-13 12:22:09.360 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-13 12:22:09.360 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-13 12:22:09.360 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-13 12:22:09.360 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-13 12:22:09.402 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 3700.6365ms
2023-12-13 12:22:09.402 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-12-13 12:22:09.402 +02:00 [DBG] Connection id "0HMVROKQNC2VQ" completed keep alive response.
2023-12-13 12:22:09.402 +02:00 [DBG] 'CityInfoContext' disposed.
2023-12-13 12:22:09.402 +02:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-12-13 12:22:09.402 +02:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-12-13 12:22:09.402 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7267/api/cities - - - 200 247 application/json;+charset=utf-8 3716.0571ms
2023-12-13 12:22:28.482 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7267/api/cities/3/pointsofinterest application/json 117
2023-12-13 12:22:28.483 +02:00 [DBG] POST requests are not supported
2023-12-13 12:22:28.484 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2023-12-13 12:22:28.484 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/PointsOfInterest' is valid for the request path '/api/cities/3/pointsofinterest'
2023-12-13 12:22:28.484 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-12-13 12:22:28.484 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-12-13 12:22:28.484 +02:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterest(Int32, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-12-13 12:22:28.484 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-13 12:22:28.484 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-13 12:22:28.484 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: ‎-3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: ‎-2000)"]
2023-12-13 12:22:28.484 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-13 12:22:28.484 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: ‎-2000)"]
2023-12-13 12:22:28.484 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-12-13 12:22:28.489 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-12-13 12:22:28.490 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-12-13 12:22:28.490 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-12-13 12:22:28.491 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-13 12:22:28.491 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-13 12:22:28.491 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-12-13 12:22:28.491 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-12-13 12:22:28.491 +02:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2023-12-13 12:22:28.491 +02:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2023-12-13 12:22:28.491 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-12-13 12:22:28.491 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-12-13 12:22:28.492 +02:00 [DBG] Connection id "0HMVROKQNC2VQ", Request id "0HMVROKQNC2VQ:00000004": started reading request body.
2023-12-13 12:22:28.492 +02:00 [DBG] Connection id "0HMVROKQNC2VQ", Request id "0HMVROKQNC2VQ:00000004": done reading request body.
2023-12-13 12:22:28.492 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-12-13 12:22:28.493 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-12-13 12:22:28.493 +02:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2023-12-13 12:22:28.493 +02:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-12-13 12:22:28.535 +02:00 [DBG] Entity Framework Core 7.0.5 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.5' with options: None
2023-12-13 12:22:28.538 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-13 12:22:28.538 +02:00 [DBG] Creating DbConnection.
2023-12-13 12:22:28.538 +02:00 [DBG] Created DbConnection. (0ms).
2023-12-13 12:22:28.538 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-13 12:22:28.538 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-13 12:22:28.538 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-12-13 12:22:28.538 +02:00 [DBG] Opened connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:22:28.538 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-12-13 12:22:28.538 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-12-13 12:22:28.538 +02:00 [DBG] Closing data reader to 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:22:28.538 +02:00 [DBG] A data reader for 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db' is being disposed after spending 0ms reading results.
2023-12-13 12:22:28.538 +02:00 [DBG] Closing connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:22:28.539 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-12-13 12:22:37.509 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-13 12:22:37.509 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-13 12:22:37.509 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-13 12:22:37.509 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-12-13 12:22:37.509 +02:00 [DBG] Opened connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:22:37.509 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-12-13 12:22:37.509 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-12-13 12:22:37.510 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 12:22:37.510 +02:00 [DBG] Closing data reader to 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:22:37.510 +02:00 [DBG] A data reader for 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db' is being disposed after spending 0ms reading results.
2023-12-13 12:22:37.510 +02:00 [DBG] Closing connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:22:37.510 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-12-13 12:22:42.263 +02:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-12-13 12:22:42.263 +02:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-12-13 12:22:42.264 +02:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointsOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 12:22:42.264 +02:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 12:22:42.264 +02:00 [DBG] The navigation 'PointOfInterest.City' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 12:22:42.264 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 12:22:42.264 +02:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-12-13 12:22:42.265 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-12-13 12:22:42.265 +02:00 [DBG] Opened connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:22:42.265 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-13 12:22:42.265 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-13 12:22:42.265 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-13 12:22:42.265 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2023-12-13 12:22:42.266 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2023-12-13 12:22:42.266 +02:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-12-13 12:22:42.267 +02:00 [DBG] Closing data reader to 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:22:42.267 +02:00 [DBG] A data reader for 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db' is being disposed after spending 0ms reading results.
2023-12-13 12:22:42.267 +02:00 [DBG] Closing connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:22:42.267 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-12-13 12:22:42.267 +02:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 12:22:42.267 +02:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2023-12-13 12:23:07.873 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-13 12:23:07.873 +02:00 [DBG] No information found on request to perform content negotiation.
2023-12-13 12:23:07.874 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-13 12:23:07.874 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-13 12:23:07.874 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-13 12:23:07.874 +02:00 [INF] Executing CreatedAtRouteResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2023-12-13 12:23:07.874 +02:00 [DBG] Found the endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2023-12-13 12:23:07.874 +02:00 [DBG] Failed to process the template api/cities/{cityId}/PointsOfInterest/{pointofInterestid} for CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API). A required route value is missing, or has a different value from the required default values. Supplied ambient values { "action": "CreatePointOfInterest", "cityId": "3", "controller": "PointsOfInterest" } and { "cityId": "3", "pointOfInterest": "8" } with default values { "action": "GetPointOfInterest", "controller": "PointsOfInterest" }
2023-12-13 12:23:07.874 +02:00 [DBG] Link generation failed for endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)"]
2023-12-13 12:23:07.880 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 39396.6219ms
2023-12-13 12:23:07.883 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-12-13 12:23:07.888 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No route matches the supplied values.
   at Microsoft.AspNetCore.Mvc.CreatedAtRouteResult.OnFormatting(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsync(ActionContext context, ObjectResult result)
   at Microsoft.AspNetCore.Mvc.ObjectResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-12-13 12:23:07.890 +02:00 [DBG] Connection id "0HMVROKQNC2VQ" completed keep alive response.
2023-12-13 12:23:07.890 +02:00 [DBG] 'CityInfoContext' disposed.
2023-12-13 12:23:07.890 +02:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-12-13 12:23:07.890 +02:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-12-13 12:23:07.890 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7267/api/cities/3/pointsofinterest application/json 117 - 500 - text/plain;+charset=utf-8 39409.1804ms
2023-12-13 12:23:52.661 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7267/api/cities/3/pointsofinterest application/json 117
2023-12-13 12:23:52.689 +02:00 [DBG] POST requests are not supported
2023-12-13 12:23:52.691 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2023-12-13 12:23:52.691 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/PointsOfInterest' is valid for the request path '/api/cities/3/pointsofinterest'
2023-12-13 12:23:52.716 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-12-13 12:23:52.718 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-12-13 12:23:52.718 +02:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterest(Int32, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-12-13 12:23:52.718 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-13 12:23:52.718 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-13 12:23:52.718 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: ‎-3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: ‎-2000)"]
2023-12-13 12:23:52.719 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-13 12:23:52.719 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: ‎-2000)"]
2023-12-13 12:23:52.719 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-12-13 12:23:52.720 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-12-13 12:23:52.720 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-12-13 12:23:52.720 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-12-13 12:23:52.721 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-13 12:23:52.721 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-13 12:23:52.721 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-12-13 12:23:52.721 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-12-13 12:23:52.721 +02:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2023-12-13 12:23:52.721 +02:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2023-12-13 12:23:52.721 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-12-13 12:23:52.722 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-12-13 12:23:52.722 +02:00 [DBG] Connection id "0HMVROKQNC2VQ", Request id "0HMVROKQNC2VQ:00000005": started reading request body.
2023-12-13 12:23:52.722 +02:00 [DBG] Connection id "0HMVROKQNC2VQ", Request id "0HMVROKQNC2VQ:00000005": done reading request body.
2023-12-13 12:23:52.723 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-12-13 12:23:52.723 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-12-13 12:23:52.723 +02:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2023-12-13 12:23:52.723 +02:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-12-13 12:23:52.725 +02:00 [DBG] Entity Framework Core 7.0.5 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.5' with options: None
2023-12-13 12:23:52.725 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-13 12:23:52.726 +02:00 [DBG] Creating DbConnection.
2023-12-13 12:23:52.726 +02:00 [DBG] Created DbConnection. (0ms).
2023-12-13 12:23:52.726 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-13 12:23:52.726 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-13 12:23:52.726 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-12-13 12:23:52.726 +02:00 [DBG] Opened connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:23:52.726 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-12-13 12:23:52.727 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-12-13 12:23:52.727 +02:00 [DBG] Closing data reader to 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:23:52.728 +02:00 [DBG] A data reader for 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db' is being disposed after spending 0ms reading results.
2023-12-13 12:23:52.728 +02:00 [DBG] Closing connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:23:52.728 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-12-13 12:24:36.987 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-13 12:24:36.987 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-13 12:24:36.987 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-13 12:24:36.987 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-12-13 12:24:36.987 +02:00 [DBG] Opened connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:24:36.987 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-12-13 12:24:36.987 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-12-13 12:24:36.987 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 12:24:36.987 +02:00 [DBG] Closing data reader to 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:24:36.988 +02:00 [DBG] A data reader for 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db' is being disposed after spending 0ms reading results.
2023-12-13 12:24:36.988 +02:00 [DBG] Closing connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:24:36.988 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-12-13 12:25:45.175 +02:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-12-13 12:25:45.175 +02:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-12-13 12:25:45.175 +02:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointsOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 12:25:45.175 +02:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 12:25:45.175 +02:00 [DBG] The navigation 'PointOfInterest.City' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 12:25:45.175 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 12:25:45.175 +02:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-12-13 12:25:45.176 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-12-13 12:25:45.176 +02:00 [DBG] Opened connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:25:45.176 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-13 12:25:45.176 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-13 12:25:45.176 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-13 12:25:45.176 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2023-12-13 12:25:45.176 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2023-12-13 12:25:45.176 +02:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-12-13 12:25:45.177 +02:00 [DBG] Closing data reader to 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:25:45.177 +02:00 [DBG] A data reader for 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db' is being disposed after spending 0ms reading results.
2023-12-13 12:25:45.177 +02:00 [DBG] Closing connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:25:45.177 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-12-13 12:25:45.177 +02:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 12:25:45.177 +02:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2023-12-13 12:27:22.888 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-13 12:27:22.890 +02:00 [DBG] No information found on request to perform content negotiation.
2023-12-13 12:27:22.891 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-13 12:27:22.891 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-13 12:27:22.892 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-13 12:27:22.892 +02:00 [INF] Executing CreatedAtRouteResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2023-12-13 12:27:22.892 +02:00 [DBG] Found the endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2023-12-13 12:27:22.892 +02:00 [DBG] Failed to process the template api/cities/{cityId}/PointsOfInterest/{pointofInterestid} for CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API). A required route value is missing, or has a different value from the required default values. Supplied ambient values { "action": "CreatePointOfInterest", "cityId": "3", "controller": "PointsOfInterest" } and { "cityId": "3", "pointOfInterest": "9" } with default values { "action": "GetPointOfInterest", "controller": "PointsOfInterest" }
2023-12-13 12:27:22.893 +02:00 [DBG] Link generation failed for endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)"]
2023-12-13 12:27:22.943 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 210230.299ms
2023-12-13 12:27:22.967 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-12-13 12:27:22.994 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No route matches the supplied values.
   at Microsoft.AspNetCore.Mvc.CreatedAtRouteResult.OnFormatting(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsync(ActionContext context, ObjectResult result)
   at Microsoft.AspNetCore.Mvc.ObjectResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-12-13 12:27:22.995 +02:00 [DBG] Connection id "0HMVROKQNC2VQ" completed keep alive response.
2023-12-13 12:27:22.995 +02:00 [DBG] 'CityInfoContext' disposed.
2023-12-13 12:27:22.995 +02:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-12-13 12:27:22.995 +02:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-12-13 12:27:22.995 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7267/api/cities/3/pointsofinterest application/json 117 - 500 - text/plain;+charset=utf-8 210341.2869ms
2023-12-13 12:27:29.325 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7267/api/cities/3/pointsofinterest application/json 117
2023-12-13 12:27:29.326 +02:00 [DBG] POST requests are not supported
2023-12-13 12:27:29.326 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2023-12-13 12:27:29.326 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/PointsOfInterest' is valid for the request path '/api/cities/3/pointsofinterest'
2023-12-13 12:27:29.326 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-12-13 12:27:29.326 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-12-13 12:27:29.326 +02:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterest(Int32, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-12-13 12:27:29.327 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-13 12:27:29.327 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-13 12:27:29.327 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: ‎-3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: ‎-2000)"]
2023-12-13 12:27:29.327 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-13 12:27:29.327 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: ‎-2000)"]
2023-12-13 12:27:29.327 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-12-13 12:27:29.328 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-12-13 12:27:29.328 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-12-13 12:27:29.328 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-12-13 12:27:29.328 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-13 12:27:29.329 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-13 12:27:29.329 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-12-13 12:27:29.329 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-12-13 12:27:29.329 +02:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2023-12-13 12:27:29.329 +02:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2023-12-13 12:27:29.329 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-12-13 12:27:29.329 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-12-13 12:27:29.329 +02:00 [DBG] Connection id "0HMVROKQNC2VQ", Request id "0HMVROKQNC2VQ:00000006": started reading request body.
2023-12-13 12:27:29.330 +02:00 [DBG] Connection id "0HMVROKQNC2VQ", Request id "0HMVROKQNC2VQ:00000006": done reading request body.
2023-12-13 12:27:29.330 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-12-13 12:27:29.330 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-12-13 12:27:29.330 +02:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2023-12-13 12:27:29.330 +02:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-12-13 12:27:29.331 +02:00 [DBG] Entity Framework Core 7.0.5 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.5' with options: None
2023-12-13 12:27:29.332 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-13 12:27:29.332 +02:00 [DBG] Creating DbConnection.
2023-12-13 12:27:29.332 +02:00 [DBG] Created DbConnection. (0ms).
2023-12-13 12:27:29.332 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-13 12:27:29.333 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-13 12:27:29.333 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-12-13 12:27:29.333 +02:00 [DBG] Opened connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:27:29.333 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-12-13 12:27:29.333 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-12-13 12:27:29.334 +02:00 [DBG] Closing data reader to 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:27:29.334 +02:00 [DBG] A data reader for 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db' is being disposed after spending 0ms reading results.
2023-12-13 12:27:29.334 +02:00 [DBG] Closing connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:27:29.334 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-12-13 12:27:36.670 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-13 12:27:36.670 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-13 12:27:36.670 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-13 12:27:36.670 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-12-13 12:27:36.670 +02:00 [DBG] Opened connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:27:36.671 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-12-13 12:27:36.671 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-12-13 12:27:36.671 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 12:27:36.671 +02:00 [DBG] Closing data reader to 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:27:36.671 +02:00 [DBG] A data reader for 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db' is being disposed after spending 0ms reading results.
2023-12-13 12:27:36.671 +02:00 [DBG] Closing connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:27:36.671 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-12-13 12:27:37.677 +02:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-12-13 12:27:37.677 +02:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-12-13 12:27:37.677 +02:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointsOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 12:27:37.677 +02:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 12:27:37.678 +02:00 [DBG] The navigation 'PointOfInterest.City' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 12:27:37.678 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 12:27:37.678 +02:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-12-13 12:27:37.678 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-12-13 12:27:37.678 +02:00 [DBG] Opened connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:27:37.678 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-13 12:27:37.678 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-13 12:27:37.678 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-13 12:27:37.678 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2023-12-13 12:27:37.678 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2023-12-13 12:27:37.678 +02:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-12-13 12:27:37.680 +02:00 [DBG] Closing data reader to 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:27:37.680 +02:00 [DBG] A data reader for 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db' is being disposed after spending 1ms reading results.
2023-12-13 12:27:37.680 +02:00 [DBG] Closing connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:27:37.680 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-12-13 12:27:37.680 +02:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 12:27:37.680 +02:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2023-12-13 12:30:24.488 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-13 12:30:24.679 +02:00 [DBG] Hosting starting
2023-12-13 12:30:24.808 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 20C6FB97AF62DC64D18855A7E76246685F1F7431)
2023-12-13 12:30:24.928 +02:00 [INF] Now listening on: https://localhost:7267
2023-12-13 12:30:24.929 +02:00 [INF] Now listening on: http://localhost:5235
2023-12-13 12:30:24.929 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-12-13 12:30:24.929 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-13 12:30:24.930 +02:00 [INF] Hosting environment: Development
2023-12-13 12:30:24.930 +02:00 [INF] Content root path: /Users/matanamichy/Projects/CityInfo.API/CityInfo.API/
2023-12-13 12:30:24.930 +02:00 [DBG] Hosting started
2023-12-13 12:30:28.464 +02:00 [DBG] Connection id "0HMVROQ3AQ5B1" received FIN.
2023-12-13 12:30:28.475 +02:00 [DBG] Connection id "0HMVROQ3AQ5B1" accepted.
2023-12-13 12:30:28.476 +02:00 [DBG] Connection id "0HMVROQ3AQ5B1" started.
2023-12-13 12:30:28.477 +02:00 [DBG] Connection id "0HMVROQ3AQ5B2" accepted.
2023-12-13 12:30:28.477 +02:00 [DBG] Connection id "0HMVROQ3AQ5B2" started.
2023-12-13 12:30:28.487 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-13 12:30:28.505 +02:00 [DBG] Connection id "0HMVROQ3AQ5B1" stopped.
2023-12-13 12:30:28.507 +02:00 [DBG] Connection id "0HMVROQ3AQ5B1" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-13 12:30:28.522 +02:00 [DBG] Connection 0HMVROQ3AQ5B2 established using the following protocol: "Tls12"
2023-12-13 12:30:28.550 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7267/api/cities/3/pointsofinterest application/json 117
2023-12-13 12:30:28.550 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-13 12:30:28.564 +02:00 [DBG] POST requests are not supported
2023-12-13 12:30:28.583 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2023-12-13 12:30:28.586 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/PointsOfInterest' is valid for the request path '/api/cities/3/pointsofinterest'
2023-12-13 12:30:28.587 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-12-13 12:30:28.588 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-12-13 12:30:28.616 +02:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterest(Int32, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-12-13 12:30:28.616 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-13 12:30:28.616 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-13 12:30:28.616 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: ‎-3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: ‎-2000)"]
2023-12-13 12:30:28.616 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-13 12:30:28.617 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: ‎-2000)"]
2023-12-13 12:30:28.617 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-12-13 12:30:28.712 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-13 12:30:28.845 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-12-13 12:30:28.848 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-12-13 12:30:28.849 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-12-13 12:30:28.849 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-13 12:30:28.849 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-13 12:30:28.849 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-12-13 12:30:28.850 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-12-13 12:30:28.851 +02:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2023-12-13 12:30:28.852 +02:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2023-12-13 12:30:28.852 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-12-13 12:30:28.853 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-12-13 12:30:28.859 +02:00 [DBG] Connection id "0HMVROQ3AQ5B2", Request id "0HMVROQ3AQ5B2:00000002": started reading request body.
2023-12-13 12:30:28.859 +02:00 [DBG] Connection id "0HMVROQ3AQ5B2", Request id "0HMVROQ3AQ5B2:00000002": done reading request body.
2023-12-13 12:30:28.959 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-12-13 12:30:28.959 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-12-13 12:30:28.959 +02:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2023-12-13 12:30:28.963 +02:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-12-13 12:30:29.709 +02:00 [DBG] Entity Framework Core 7.0.5 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.5' with options: None
2023-12-13 12:30:29.749 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2023-12-13 12:30:30.005 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-13 12:30:30.053 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-13 12:30:30.055 +02:00 [DBG] Creating DbConnection.
2023-12-13 12:30:30.075 +02:00 [DBG] Created DbConnection. (16ms).
2023-12-13 12:30:30.082 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (26ms).
2023-12-13 12:30:30.086 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (34ms).
2023-12-13 12:30:30.094 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-12-13 12:30:30.107 +02:00 [DBG] Opened connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:30:30.119 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-12-13 12:30:30.137 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-12-13 12:30:30.148 +02:00 [DBG] Closing data reader to 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:30:30.154 +02:00 [DBG] A data reader for 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db' is being disposed after spending 11ms reading results.
2023-12-13 12:30:30.161 +02:00 [DBG] Closing connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:30:30.165 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (4ms).
2023-12-13 12:30:33.749 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-12-13 12:30:33.782 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-13 12:30:33.791 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-13 12:30:33.791 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-13 12:30:33.791 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-13 12:30:33.791 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-12-13 12:30:33.791 +02:00 [DBG] Opened connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:30:33.791 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-12-13 12:30:33.792 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-12-13 12:30:33.813 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 12:30:33.825 +02:00 [DBG] Closing data reader to 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:30:33.825 +02:00 [DBG] A data reader for 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db' is being disposed after spending 33ms reading results.
2023-12-13 12:30:33.825 +02:00 [DBG] Closing connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:30:33.825 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-12-13 12:30:34.427 +02:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-12-13 12:30:34.431 +02:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-12-13 12:30:34.452 +02:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointsOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 12:30:34.478 +02:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 12:30:34.492 +02:00 [DBG] The navigation 'PointOfInterest.City' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 12:30:34.505 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 12:30:34.509 +02:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-12-13 12:30:34.579 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-12-13 12:30:34.579 +02:00 [DBG] Opened connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:30:34.582 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-13 12:30:34.582 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-13 12:30:34.582 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-13 12:30:34.582 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2023-12-13 12:30:34.585 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2023-12-13 12:30:34.600 +02:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-12-13 12:30:34.606 +02:00 [DBG] Closing data reader to 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:30:34.607 +02:00 [DBG] A data reader for 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db' is being disposed after spending 21ms reading results.
2023-12-13 12:30:34.607 +02:00 [DBG] Closing connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:30:34.607 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-12-13 12:30:34.615 +02:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 12:30:34.616 +02:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2023-12-13 12:31:32.708 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-13 12:31:32.710 +02:00 [DBG] No information found on request to perform content negotiation.
2023-12-13 12:31:32.710 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-13 12:31:32.710 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-13 12:31:32.711 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-13 12:31:32.711 +02:00 [INF] Executing CreatedAtRouteResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2023-12-13 12:31:32.722 +02:00 [DBG] Found the endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2023-12-13 12:31:32.776 +02:00 [DBG] Failed to process the template api/cities/{cityId}/PointsOfInterest/{pointofInterestid} for CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API). A required route value is missing, or has a different value from the required default values. Supplied ambient values { "action": "CreatePointOfInterest", "cityId": "3", "controller": "PointsOfInterest" } and { "cityId": "3", "pointOfInterest": "11" } with default values { "action": "GetPointOfInterest", "controller": "PointsOfInterest" }
2023-12-13 12:31:32.777 +02:00 [DBG] Link generation failed for endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)"]
2023-12-13 12:31:32.787 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 64167.9942ms
2023-12-13 12:31:32.791 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-12-13 12:31:32.795 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No route matches the supplied values.
   at Microsoft.AspNetCore.Mvc.CreatedAtRouteResult.OnFormatting(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsync(ActionContext context, ObjectResult result)
   at Microsoft.AspNetCore.Mvc.ObjectResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-12-13 12:31:32.825 +02:00 [DBG] Connection id "0HMVROQ3AQ5B2" completed keep alive response.
2023-12-13 12:31:32.932 +02:00 [DBG] 'CityInfoContext' disposed.
2023-12-13 12:31:32.940 +02:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-12-13 12:31:32.941 +02:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2023-12-13 12:31:32.942 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7267/api/cities/3/pointsofinterest application/json 117 - 500 - text/plain;+charset=utf-8 64397.0853ms
2023-12-13 12:31:53.948 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7267/api/cities/3/pointsofinterest application/json 117
2023-12-13 12:31:53.949 +02:00 [DBG] POST requests are not supported
2023-12-13 12:31:53.950 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2023-12-13 12:31:53.950 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/PointsOfInterest' is valid for the request path '/api/cities/3/pointsofinterest'
2023-12-13 12:31:53.951 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-12-13 12:31:53.951 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-12-13 12:31:53.951 +02:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterest(Int32, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-12-13 12:31:53.951 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-13 12:31:53.951 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-13 12:31:53.951 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: ‎-3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: ‎-2000)"]
2023-12-13 12:31:53.951 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-13 12:31:53.952 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: ‎-2000)"]
2023-12-13 12:31:53.952 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-12-13 12:31:53.952 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-12-13 12:31:53.953 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-12-13 12:31:53.953 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-12-13 12:31:53.953 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-13 12:31:53.953 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-13 12:31:53.953 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-12-13 12:31:53.953 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-12-13 12:31:53.953 +02:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2023-12-13 12:31:53.953 +02:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2023-12-13 12:31:53.953 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-12-13 12:31:53.953 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-12-13 12:31:53.954 +02:00 [DBG] Connection id "0HMVROQ3AQ5B2", Request id "0HMVROQ3AQ5B2:00000003": started reading request body.
2023-12-13 12:31:53.954 +02:00 [DBG] Connection id "0HMVROQ3AQ5B2", Request id "0HMVROQ3AQ5B2:00000003": done reading request body.
2023-12-13 12:31:53.954 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-12-13 12:31:53.954 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-12-13 12:31:53.954 +02:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2023-12-13 12:31:53.954 +02:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-12-13 12:31:54.010 +02:00 [DBG] Entity Framework Core 7.0.5 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.5' with options: None
2023-12-13 12:31:54.015 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-13 12:31:54.016 +02:00 [DBG] Creating DbConnection.
2023-12-13 12:31:54.016 +02:00 [DBG] Created DbConnection. (0ms).
2023-12-13 12:31:54.016 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-13 12:31:54.016 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-13 12:31:54.016 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-12-13 12:31:54.017 +02:00 [DBG] Opened connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:31:54.017 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-12-13 12:31:54.017 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-12-13 12:31:54.017 +02:00 [DBG] Closing data reader to 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:31:54.017 +02:00 [DBG] A data reader for 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db' is being disposed after spending 0ms reading results.
2023-12-13 12:31:54.017 +02:00 [DBG] Closing connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:31:54.018 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-12-13 12:32:00.373 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-13 12:32:00.447 +02:00 [DBG] Hosting starting
2023-12-13 12:32:00.553 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 20C6FB97AF62DC64D18855A7E76246685F1F7431)
2023-12-13 12:32:00.646 +02:00 [INF] Now listening on: https://localhost:7267
2023-12-13 12:32:00.646 +02:00 [INF] Now listening on: http://localhost:5235
2023-12-13 12:32:00.646 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-12-13 12:32:00.646 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-13 12:32:00.647 +02:00 [INF] Hosting environment: Development
2023-12-13 12:32:00.647 +02:00 [INF] Content root path: /Users/matanamichy/Projects/CityInfo.API/CityInfo.API/
2023-12-13 12:32:00.647 +02:00 [DBG] Hosting started
2023-12-13 12:37:02.541 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-13 12:37:02.615 +02:00 [DBG] Hosting starting
2023-12-13 12:37:02.719 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 20C6FB97AF62DC64D18855A7E76246685F1F7431)
2023-12-13 12:37:02.837 +02:00 [INF] Now listening on: https://localhost:7267
2023-12-13 12:37:02.837 +02:00 [INF] Now listening on: http://localhost:5235
2023-12-13 12:37:02.837 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-12-13 12:37:02.837 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-13 12:37:02.838 +02:00 [INF] Hosting environment: Development
2023-12-13 12:37:02.838 +02:00 [INF] Content root path: /Users/matanamichy/Projects/CityInfo.API/CityInfo.API/
2023-12-13 12:37:02.838 +02:00 [DBG] Hosting started
2023-12-13 12:37:13.589 +02:00 [DBG] Connection id "0HMVROTS2CASP" received FIN.
2023-12-13 12:37:13.601 +02:00 [DBG] Connection id "0HMVROTS2CASP" accepted.
2023-12-13 12:37:13.602 +02:00 [DBG] Connection id "0HMVROTS2CASP" started.
2023-12-13 12:37:13.603 +02:00 [DBG] Connection id "0HMVROTS2CASQ" accepted.
2023-12-13 12:37:13.603 +02:00 [DBG] Connection id "0HMVROTS2CASQ" started.
2023-12-13 12:37:13.616 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-13 12:37:13.635 +02:00 [DBG] Connection id "0HMVROTS2CASP" stopped.
2023-12-13 12:37:13.637 +02:00 [DBG] Connection id "0HMVROTS2CASP" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-13 12:37:13.651 +02:00 [DBG] Connection 0HMVROTS2CASQ established using the following protocol: "Tls12"
2023-12-13 12:37:13.679 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:7267/api/cities/3/pointsofinterest application/json 117
2023-12-13 12:37:13.679 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-13 12:37:13.693 +02:00 [DBG] POST requests are not supported
2023-12-13 12:37:13.712 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2023-12-13 12:37:13.715 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/PointsOfInterest' is valid for the request path '/api/cities/3/pointsofinterest'
2023-12-13 12:37:13.716 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-12-13 12:37:13.717 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-12-13 12:37:13.745 +02:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterest(Int32, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-12-13 12:37:13.745 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-13 12:37:13.745 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-13 12:37:13.745 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: ‎-3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: ‎-2000)"]
2023-12-13 12:37:13.746 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-13 12:37:13.746 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: ‎-2000)"]
2023-12-13 12:37:13.746 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-12-13 12:37:13.843 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-13 12:37:13.976 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-12-13 12:37:13.978 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-12-13 12:37:13.979 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-12-13 12:37:13.979 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-13 12:37:13.979 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-13 12:37:13.980 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-12-13 12:37:13.980 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-12-13 12:37:13.981 +02:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2023-12-13 12:37:13.982 +02:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2023-12-13 12:37:13.982 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-12-13 12:37:13.983 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-12-13 12:37:13.989 +02:00 [DBG] Connection id "0HMVROTS2CASQ", Request id "0HMVROTS2CASQ:00000002": started reading request body.
2023-12-13 12:37:13.989 +02:00 [DBG] Connection id "0HMVROTS2CASQ", Request id "0HMVROTS2CASQ:00000002": done reading request body.
2023-12-13 12:37:14.096 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-12-13 12:37:14.096 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-12-13 12:37:14.096 +02:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2023-12-13 12:37:14.100 +02:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-12-13 12:37:14.854 +02:00 [DBG] Entity Framework Core 7.0.5 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.5' with options: None
2023-12-13 12:37:14.894 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2023-12-13 12:37:15.151 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-13 12:37:15.200 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-13 12:37:15.202 +02:00 [DBG] Creating DbConnection.
2023-12-13 12:37:15.222 +02:00 [DBG] Created DbConnection. (16ms).
2023-12-13 12:37:15.229 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (26ms).
2023-12-13 12:37:15.233 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (34ms).
2023-12-13 12:37:15.241 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-12-13 12:37:15.255 +02:00 [DBG] Opened connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:37:15.267 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-12-13 12:37:15.286 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-12-13 12:37:15.297 +02:00 [DBG] Closing data reader to 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:37:15.303 +02:00 [DBG] A data reader for 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db' is being disposed after spending 11ms reading results.
2023-12-13 12:37:15.310 +02:00 [DBG] Closing connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:37:15.314 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (4ms).
2023-12-13 12:37:15.323 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-12-13 12:37:15.355 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-13 12:37:15.365 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-13 12:37:15.365 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-13 12:37:15.365 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-13 12:37:15.365 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-12-13 12:37:15.365 +02:00 [DBG] Opened connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:37:15.365 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-12-13 12:37:15.366 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2023-12-13 12:37:15.386 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 12:37:15.398 +02:00 [DBG] Closing data reader to 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:37:15.399 +02:00 [DBG] A data reader for 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db' is being disposed after spending 32ms reading results.
2023-12-13 12:37:15.399 +02:00 [DBG] Closing connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:37:15.399 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-12-13 12:37:15.405 +02:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-12-13 12:37:15.407 +02:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-12-13 12:37:15.423 +02:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointsOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 12:37:15.449 +02:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 12:37:15.462 +02:00 [DBG] The navigation 'PointOfInterest.City' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 12:37:15.474 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 12:37:15.476 +02:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-12-13 12:37:15.545 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-12-13 12:37:15.545 +02:00 [DBG] Opened connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:37:15.548 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-13 12:37:15.548 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-13 12:37:15.548 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-13 12:37:15.548 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2023-12-13 12:37:15.550 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2023-12-13 12:37:15.565 +02:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-12-13 12:37:15.570 +02:00 [DBG] Closing data reader to 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:37:15.571 +02:00 [DBG] A data reader for 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db' is being disposed after spending 20ms reading results.
2023-12-13 12:37:15.571 +02:00 [DBG] Closing connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:37:15.571 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-12-13 12:37:15.579 +02:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 12:37:15.580 +02:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2023-12-13 12:37:15.582 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-13 12:37:15.584 +02:00 [DBG] No information found on request to perform content negotiation.
2023-12-13 12:37:15.584 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-13 12:37:15.584 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-13 12:37:15.585 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-13 12:37:15.585 +02:00 [INF] Executing CreatedAtRouteResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2023-12-13 12:37:15.596 +02:00 [DBG] Found the endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2023-12-13 12:37:15.605 +02:00 [DBG] Successfully processed template api/cities/{cityId}/PointsOfInterest/{pointofInterestid} for CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) resulting in /api/cities/3/PointsOfInterest/12 and 
2023-12-13 12:37:15.605 +02:00 [DBG] Link generation succeeded for endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)"] with result /api/cities/3/PointsOfInterest/12
2023-12-13 12:37:15.645 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 1895.9031ms
2023-12-13 12:37:15.646 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-12-13 12:37:15.646 +02:00 [DBG] Connection id "0HMVROTS2CASQ" completed keep alive response.
2023-12-13 12:37:15.651 +02:00 [DBG] 'CityInfoContext' disposed.
2023-12-13 12:37:15.660 +02:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-12-13 12:37:15.661 +02:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2023-12-13 12:37:15.662 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:7267/api/cities/3/pointsofinterest application/json 117 - 201 112 application/json;+charset=utf-8 1985.8326ms
2023-12-13 12:42:34.400 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-13 12:42:34.483 +02:00 [DBG] Hosting starting
2023-12-13 12:42:34.594 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 20C6FB97AF62DC64D18855A7E76246685F1F7431)
2023-12-13 12:42:34.711 +02:00 [INF] Now listening on: https://localhost:7267
2023-12-13 12:42:34.711 +02:00 [INF] Now listening on: http://localhost:5235
2023-12-13 12:42:34.711 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-12-13 12:42:34.712 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-13 12:42:34.712 +02:00 [INF] Hosting environment: Development
2023-12-13 12:42:34.712 +02:00 [INF] Content root path: /Users/matanamichy/Projects/CityInfo.API/CityInfo.API/
2023-12-13 12:42:34.712 +02:00 [DBG] Hosting started
2023-12-13 12:42:40.696 +02:00 [DBG] Connection id "0HMVRP0THTF2R" received FIN.
2023-12-13 12:42:40.710 +02:00 [DBG] Connection id "0HMVRP0THTF2R" accepted.
2023-12-13 12:42:40.711 +02:00 [DBG] Connection id "0HMVRP0THTF2R" started.
2023-12-13 12:42:40.713 +02:00 [DBG] Connection id "0HMVRP0THTF2S" accepted.
2023-12-13 12:42:40.713 +02:00 [DBG] Connection id "0HMVRP0THTF2S" started.
2023-12-13 12:42:40.722 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-13 12:42:40.740 +02:00 [DBG] Connection id "0HMVRP0THTF2R" stopped.
2023-12-13 12:42:40.743 +02:00 [DBG] Connection id "0HMVRP0THTF2R" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-13 12:42:40.755 +02:00 [DBG] Connection 0HMVRP0THTF2S established using the following protocol: "Tls12"
2023-12-13 12:42:40.783 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7267/api/cities/1/pointsofinterest/1 application/json 122
2023-12-13 12:42:40.783 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-13 12:42:40.797 +02:00 [DBG] PUT requests are not supported
2023-12-13 12:42:40.816 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-12-13 12:42:40.820 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/PointsOfInterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-12-13 12:42:40.820 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2023-12-13 12:42:40.821 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2023-12-13 12:42:40.849 +02:00 [INF] Route matched with {action = "UpdatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdatePointOfInterest(Int32, Int32, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-12-13 12:42:40.850 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-13 12:42:40.850 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-13 12:42:40.850 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: ‎-3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: ‎-2000)"]
2023-12-13 12:42:40.850 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-13 12:42:40.850 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: ‎-2000)"]
2023-12-13 12:42:40.850 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-12-13 12:42:40.946 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-13 12:42:41.079 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-12-13 12:42:41.081 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-12-13 12:42:41.082 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-12-13 12:42:41.083 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-13 12:42:41.083 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-13 12:42:41.083 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-12-13 12:42:41.083 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-12-13 12:42:41.085 +02:00 [DBG] Attempting to bind parameter 'pointofinterestid' of type 'System.Int32' ...
2023-12-13 12:42:41.085 +02:00 [DBG] Attempting to bind parameter 'pointofinterestid' of type 'System.Int32' using the name 'pointofinterestid' in request data ...
2023-12-13 12:42:41.085 +02:00 [DBG] Done attempting to bind parameter 'pointofinterestid' of type 'System.Int32'.
2023-12-13 12:42:41.085 +02:00 [DBG] Done attempting to bind parameter 'pointofinterestid' of type 'System.Int32'.
2023-12-13 12:42:41.085 +02:00 [DBG] Attempting to validate the bound parameter 'pointofinterestid' of type 'System.Int32' ...
2023-12-13 12:42:41.085 +02:00 [DBG] Done attempting to validate the bound parameter 'pointofinterestid' of type 'System.Int32'.
2023-12-13 12:42:41.085 +02:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2023-12-13 12:42:41.085 +02:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2023-12-13 12:42:41.086 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-12-13 12:42:41.086 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-12-13 12:42:41.093 +02:00 [DBG] Connection id "0HMVRP0THTF2S", Request id "0HMVRP0THTF2S:00000002": started reading request body.
2023-12-13 12:42:41.093 +02:00 [DBG] Connection id "0HMVRP0THTF2S", Request id "0HMVRP0THTF2S:00000002": done reading request body.
2023-12-13 12:42:41.193 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-12-13 12:42:41.193 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-12-13 12:42:41.193 +02:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2023-12-13 12:42:41.198 +02:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-12-13 12:42:41.936 +02:00 [DBG] Entity Framework Core 7.0.5 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.5' with options: None
2023-12-13 12:42:41.975 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2023-12-13 12:42:42.231 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-13 12:42:42.278 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-13 12:42:42.281 +02:00 [DBG] Creating DbConnection.
2023-12-13 12:42:42.301 +02:00 [DBG] Created DbConnection. (16ms).
2023-12-13 12:42:42.307 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (26ms).
2023-12-13 12:42:42.311 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (33ms).
2023-12-13 12:42:42.320 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-12-13 12:42:42.332 +02:00 [DBG] Opened connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:42:42.344 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-12-13 12:42:42.363 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-12-13 12:42:42.374 +02:00 [DBG] Closing data reader to 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:42:42.380 +02:00 [DBG] A data reader for 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db' is being disposed after spending 11ms reading results.
2023-12-13 12:42:42.386 +02:00 [DBG] Closing connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:42:42.390 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (4ms).
2023-12-13 12:42:42.393 +02:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)
    .FirstOrDefault()'
2023-12-13 12:42:42.427 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointsOfInterest AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-13 12:42:42.437 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-13 12:42:42.437 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-13 12:42:42.437 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-13 12:42:42.438 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-12-13 12:42:42.438 +02:00 [DBG] Opened connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:42:42.438 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2023-12-13 12:42:42.439 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2023-12-13 12:42:42.458 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 12:42:42.471 +02:00 [DBG] Closing data reader to 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:42:42.471 +02:00 [DBG] A data reader for 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db' is being disposed after spending 32ms reading results.
2023-12-13 12:42:42.472 +02:00 [DBG] Closing connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:42:42.472 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-12-13 12:42:42.484 +02:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-12-13 12:42:42.486 +02:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-12-13 12:42:42.497 +02:00 [DBG] The unchanged property 'PointOfInterest.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-12-13 12:42:42.505 +02:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 12:42:42.506 +02:00 [DBG] The unchanged property 'PointOfInterest.Name' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-12-13 12:42:42.508 +02:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-12-13 12:42:42.575 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-12-13 12:42:42.575 +02:00 [DBG] Opened connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:42:42.578 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-13 12:42:42.578 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-13 12:42:42.578 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-13 12:42:42.578 +02:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 59), @p1='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
UPDATE "PointsOfInterest" SET "Description" = @p0, "Name" = @p1
WHERE "Id" = @p2
RETURNING 1;
2023-12-13 12:42:42.580 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 59), @p1='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
UPDATE "PointsOfInterest" SET "Description" = @p0, "Name" = @p1
WHERE "Id" = @p2
RETURNING 1;
2023-12-13 12:42:42.586 +02:00 [DBG] Closing data reader to 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:42:42.586 +02:00 [DBG] A data reader for 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db' is being disposed after spending 6ms reading results.
2023-12-13 12:42:42.587 +02:00 [DBG] Closing connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:42:42.587 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-12-13 12:42:42.592 +02:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 12:42:42.594 +02:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2023-12-13 12:42:42.595 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2023-12-13 12:42:42.599 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API) in 1744.6682ms
2023-12-13 12:42:42.599 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2023-12-13 12:42:42.601 +02:00 [DBG] Connection id "0HMVRP0THTF2S" completed keep alive response.
2023-12-13 12:42:42.605 +02:00 [DBG] 'CityInfoContext' disposed.
2023-12-13 12:42:42.613 +02:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-12-13 12:42:42.615 +02:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (2ms).
2023-12-13 12:42:42.616 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7267/api/cities/1/pointsofinterest/1 application/json 122 - 204 - - 1835.6637ms
2023-12-13 12:42:53.198 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7267/api/cities/3/pointsofinterest/1 application/json 122
2023-12-13 12:42:53.200 +02:00 [DBG] PUT requests are not supported
2023-12-13 12:42:53.201 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest/1'
2023-12-13 12:42:53.201 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/PointsOfInterest/{pointofinterestid}' is valid for the request path '/api/cities/3/pointsofinterest/1'
2023-12-13 12:42:53.201 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2023-12-13 12:42:53.201 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2023-12-13 12:42:53.202 +02:00 [INF] Route matched with {action = "UpdatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdatePointOfInterest(Int32, Int32, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-12-13 12:42:53.202 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-13 12:42:53.202 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-13 12:42:53.202 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: ‎-3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: ‎-2000)"]
2023-12-13 12:42:53.202 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-13 12:42:53.202 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: ‎-2000)"]
2023-12-13 12:42:53.202 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-12-13 12:42:53.203 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-12-13 12:42:53.203 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-12-13 12:42:53.203 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-12-13 12:42:53.203 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-13 12:42:53.203 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-13 12:42:53.203 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-12-13 12:42:53.203 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-12-13 12:42:53.203 +02:00 [DBG] Attempting to bind parameter 'pointofinterestid' of type 'System.Int32' ...
2023-12-13 12:42:53.203 +02:00 [DBG] Attempting to bind parameter 'pointofinterestid' of type 'System.Int32' using the name 'pointofinterestid' in request data ...
2023-12-13 12:42:53.203 +02:00 [DBG] Done attempting to bind parameter 'pointofinterestid' of type 'System.Int32'.
2023-12-13 12:42:53.204 +02:00 [DBG] Done attempting to bind parameter 'pointofinterestid' of type 'System.Int32'.
2023-12-13 12:42:53.204 +02:00 [DBG] Attempting to validate the bound parameter 'pointofinterestid' of type 'System.Int32' ...
2023-12-13 12:42:53.204 +02:00 [DBG] Done attempting to validate the bound parameter 'pointofinterestid' of type 'System.Int32'.
2023-12-13 12:42:53.204 +02:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2023-12-13 12:42:53.204 +02:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2023-12-13 12:42:53.204 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-12-13 12:42:53.204 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-12-13 12:42:53.204 +02:00 [DBG] Connection id "0HMVRP0THTF2S", Request id "0HMVRP0THTF2S:00000003": started reading request body.
2023-12-13 12:42:53.204 +02:00 [DBG] Connection id "0HMVRP0THTF2S", Request id "0HMVRP0THTF2S:00000003": done reading request body.
2023-12-13 12:42:53.204 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-12-13 12:42:53.205 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-12-13 12:42:53.205 +02:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2023-12-13 12:42:53.205 +02:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-12-13 12:42:53.209 +02:00 [DBG] Entity Framework Core 7.0.5 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.5' with options: None
2023-12-13 12:42:53.215 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-13 12:42:53.215 +02:00 [DBG] Creating DbConnection.
2023-12-13 12:42:53.215 +02:00 [DBG] Created DbConnection. (0ms).
2023-12-13 12:42:53.215 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-13 12:42:53.215 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-13 12:42:53.215 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-12-13 12:42:53.216 +02:00 [DBG] Opened connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:42:53.216 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-12-13 12:42:53.216 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-12-13 12:42:53.216 +02:00 [DBG] Closing data reader to 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:42:53.216 +02:00 [DBG] A data reader for 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db' is being disposed after spending 0ms reading results.
2023-12-13 12:42:53.216 +02:00 [DBG] Closing connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:42:53.217 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-12-13 12:42:53.217 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-13 12:42:53.217 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-13 12:42:53.217 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-13 12:42:53.217 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-12-13 12:42:53.217 +02:00 [DBG] Opened connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:42:53.217 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2023-12-13 12:42:53.217 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2023-12-13 12:42:53.218 +02:00 [DBG] Closing data reader to 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:42:53.218 +02:00 [DBG] A data reader for 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db' is being disposed after spending 0ms reading results.
2023-12-13 12:42:53.218 +02:00 [DBG] Closing connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:42:53.218 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-12-13 12:42:53.220 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-13 12:42:53.222 +02:00 [DBG] No information found on request to perform content negotiation.
2023-12-13 12:42:53.223 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-12-13 12:42:53.223 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-12-13 12:42:53.223 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-12-13 12:42:53.270 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API) in 68.2972ms
2023-12-13 12:42:53.271 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2023-12-13 12:42:53.271 +02:00 [DBG] Connection id "0HMVRP0THTF2S" completed keep alive response.
2023-12-13 12:42:53.271 +02:00 [DBG] 'CityInfoContext' disposed.
2023-12-13 12:42:53.271 +02:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-12-13 12:42:53.271 +02:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-12-13 12:42:53.271 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7267/api/cities/3/pointsofinterest/1 application/json 122 - 404 161 application/problem+json;+charset=utf-8 72.4025ms
2023-12-13 12:43:16.176 +02:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7267/api/cities/3/pointsofinterest/12 application/json 122
2023-12-13 12:43:16.178 +02:00 [DBG] PUT requests are not supported
2023-12-13 12:43:16.178 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest/12'
2023-12-13 12:43:16.178 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/PointsOfInterest/{pointofinterestid}' is valid for the request path '/api/cities/3/pointsofinterest/12'
2023-12-13 12:43:16.178 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2023-12-13 12:43:16.178 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2023-12-13 12:43:16.179 +02:00 [INF] Route matched with {action = "UpdatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdatePointOfInterest(Int32, Int32, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-12-13 12:43:16.179 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-13 12:43:16.179 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-13 12:43:16.179 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: ‎-3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: ‎-2000)"]
2023-12-13 12:43:16.179 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-13 12:43:16.179 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: ‎-2000)"]
2023-12-13 12:43:16.179 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-12-13 12:43:16.183 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-12-13 12:43:16.183 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-12-13 12:43:16.183 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-12-13 12:43:16.184 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-13 12:43:16.184 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-13 12:43:16.184 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-12-13 12:43:16.184 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-12-13 12:43:16.184 +02:00 [DBG] Attempting to bind parameter 'pointofinterestid' of type 'System.Int32' ...
2023-12-13 12:43:16.184 +02:00 [DBG] Attempting to bind parameter 'pointofinterestid' of type 'System.Int32' using the name 'pointofinterestid' in request data ...
2023-12-13 12:43:16.184 +02:00 [DBG] Done attempting to bind parameter 'pointofinterestid' of type 'System.Int32'.
2023-12-13 12:43:16.184 +02:00 [DBG] Done attempting to bind parameter 'pointofinterestid' of type 'System.Int32'.
2023-12-13 12:43:16.184 +02:00 [DBG] Attempting to validate the bound parameter 'pointofinterestid' of type 'System.Int32' ...
2023-12-13 12:43:16.184 +02:00 [DBG] Done attempting to validate the bound parameter 'pointofinterestid' of type 'System.Int32'.
2023-12-13 12:43:16.184 +02:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2023-12-13 12:43:16.185 +02:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2023-12-13 12:43:16.185 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-12-13 12:43:16.185 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-12-13 12:43:16.185 +02:00 [DBG] Connection id "0HMVRP0THTF2S", Request id "0HMVRP0THTF2S:00000004": started reading request body.
2023-12-13 12:43:16.185 +02:00 [DBG] Connection id "0HMVRP0THTF2S", Request id "0HMVRP0THTF2S:00000004": done reading request body.
2023-12-13 12:43:16.185 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-12-13 12:43:16.185 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-12-13 12:43:16.185 +02:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2023-12-13 12:43:16.185 +02:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-12-13 12:43:16.233 +02:00 [DBG] Entity Framework Core 7.0.5 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.5' with options: None
2023-12-13 12:43:16.234 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-13 12:43:16.234 +02:00 [DBG] Creating DbConnection.
2023-12-13 12:43:16.234 +02:00 [DBG] Created DbConnection. (0ms).
2023-12-13 12:43:16.234 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-13 12:43:16.234 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-13 12:43:16.234 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-12-13 12:43:16.234 +02:00 [DBG] Opened connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:43:16.234 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-12-13 12:43:16.234 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-12-13 12:43:16.234 +02:00 [DBG] Closing data reader to 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:43:16.234 +02:00 [DBG] A data reader for 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db' is being disposed after spending 0ms reading results.
2023-12-13 12:43:16.234 +02:00 [DBG] Closing connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:43:16.234 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-12-13 12:43:16.235 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-13 12:43:16.235 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-13 12:43:16.235 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-13 12:43:16.235 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-12-13 12:43:16.235 +02:00 [DBG] Opened connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:43:16.235 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2023-12-13 12:43:16.235 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2023-12-13 12:43:16.235 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 12:43:16.235 +02:00 [DBG] Closing data reader to 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:43:16.235 +02:00 [DBG] A data reader for 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db' is being disposed after spending 0ms reading results.
2023-12-13 12:43:16.235 +02:00 [DBG] Closing connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:43:16.235 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-12-13 12:43:16.235 +02:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-12-13 12:43:16.235 +02:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-12-13 12:43:16.235 +02:00 [DBG] The unchanged property 'PointOfInterest.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-12-13 12:43:16.235 +02:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 12:43:16.235 +02:00 [DBG] The unchanged property 'PointOfInterest.Name' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-12-13 12:43:16.236 +02:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-12-13 12:43:16.236 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-12-13 12:43:16.236 +02:00 [DBG] Opened connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:43:16.236 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-13 12:43:16.236 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-13 12:43:16.236 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-13 12:43:16.236 +02:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 59), @p1='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
UPDATE "PointsOfInterest" SET "Description" = @p0, "Name" = @p1
WHERE "Id" = @p2
RETURNING 1;
2023-12-13 12:43:16.236 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 59), @p1='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
UPDATE "PointsOfInterest" SET "Description" = @p0, "Name" = @p1
WHERE "Id" = @p2
RETURNING 1;
2023-12-13 12:43:16.237 +02:00 [DBG] Closing data reader to 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:43:16.237 +02:00 [DBG] A data reader for 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db' is being disposed after spending 0ms reading results.
2023-12-13 12:43:16.237 +02:00 [DBG] Closing connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:43:16.237 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-12-13 12:43:16.237 +02:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 12:43:16.237 +02:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2023-12-13 12:43:16.237 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2023-12-13 12:43:16.237 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API) in 57.7321ms
2023-12-13 12:43:16.237 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2023-12-13 12:43:16.237 +02:00 [DBG] Connection id "0HMVRP0THTF2S" completed keep alive response.
2023-12-13 12:43:16.237 +02:00 [DBG] 'CityInfoContext' disposed.
2023-12-13 12:43:16.237 +02:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-12-13 12:43:16.237 +02:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-12-13 12:43:16.237 +02:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7267/api/cities/3/pointsofinterest/12 application/json 122 - 204 - - 61.1504ms
2023-12-13 12:43:27.343 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7267/api/cities/3/pointsofinterest - -
2023-12-13 12:43:27.358 +02:00 [DBG] The request path  does not match the path filter
2023-12-13 12:43:27.358 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2023-12-13 12:43:27.358 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/PointsOfInterest' is valid for the request path '/api/cities/3/pointsofinterest'
2023-12-13 12:43:27.358 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-12-13 12:43:27.359 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-12-13 12:43:27.363 +02:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-12-13 12:43:27.363 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-13 12:43:27.363 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-13 12:43:27.363 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: ‎-3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: ‎-2000)"]
2023-12-13 12:43:27.363 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-13 12:43:27.363 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: ‎-2000)"]
2023-12-13 12:43:27.363 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-12-13 12:43:27.364 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-12-13 12:43:27.364 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-12-13 12:43:27.364 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-12-13 12:43:27.364 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-13 12:43:27.364 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-13 12:43:27.364 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-12-13 12:43:27.364 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-12-13 12:43:27.366 +02:00 [DBG] Entity Framework Core 7.0.5 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.5' with options: None
2023-12-13 12:43:27.366 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-13 12:43:27.366 +02:00 [DBG] Creating DbConnection.
2023-12-13 12:43:27.366 +02:00 [DBG] Created DbConnection. (0ms).
2023-12-13 12:43:27.366 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-13 12:43:27.366 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-13 12:43:27.366 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-12-13 12:43:27.366 +02:00 [DBG] Opened connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:43:27.366 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-12-13 12:43:27.366 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-12-13 12:43:27.366 +02:00 [DBG] Closing data reader to 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:43:27.366 +02:00 [DBG] A data reader for 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db' is being disposed after spending 0ms reading results.
2023-12-13 12:43:27.367 +02:00 [DBG] Closing connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:43:27.367 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-12-13 12:43:27.371 +02:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0)'
2023-12-13 12:43:27.373 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-12-13 12:43:27.373 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-13 12:43:27.373 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-13 12:43:27.374 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-13 12:43:27.374 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-12-13 12:43:27.374 +02:00 [DBG] Opened connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:43:27.374 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-12-13 12:43:27.374 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-12-13 12:43:27.374 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 12:43:27.374 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 12:43:27.374 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 12:43:27.374 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 12:43:27.374 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 12:43:27.374 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 12:43:27.374 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 12:43:27.374 +02:00 [DBG] Closing data reader to 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:43:27.374 +02:00 [DBG] A data reader for 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db' is being disposed after spending 0ms reading results.
2023-12-13 12:43:27.374 +02:00 [DBG] Closing connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 12:43:27.374 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-12-13 12:43:27.384 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-13 12:43:27.384 +02:00 [DBG] No information found on request to perform content negotiation.
2023-12-13 12:43:27.384 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-13 12:43:27.384 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-13 12:43:27.384 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-13 12:43:27.384 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-13 12:43:27.392 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 28.7172ms
2023-12-13 12:43:27.392 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-12-13 12:43:27.392 +02:00 [DBG] Connection id "0HMVRP0THTF2S" completed keep alive response.
2023-12-13 12:43:27.392 +02:00 [DBG] 'CityInfoContext' disposed.
2023-12-13 12:43:27.392 +02:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-12-13 12:43:27.392 +02:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-12-13 12:43:27.392 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7267/api/cities/3/pointsofinterest - - - 200 777 application/json;+charset=utf-8 49.3467ms
2023-12-13 13:06:07.831 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-13 13:06:07.912 +02:00 [DBG] Hosting starting
2023-12-13 13:06:08.030 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 20C6FB97AF62DC64D18855A7E76246685F1F7431)
2023-12-13 13:06:08.100 +02:00 [INF] Now listening on: https://localhost:7267
2023-12-13 13:06:08.100 +02:00 [INF] Now listening on: http://localhost:5235
2023-12-13 13:06:08.100 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-12-13 13:06:08.100 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-13 13:06:08.101 +02:00 [INF] Hosting environment: Development
2023-12-13 13:06:08.101 +02:00 [INF] Content root path: /Users/matanamichy/Projects/CityInfo.API/CityInfo.API/
2023-12-13 13:06:08.101 +02:00 [DBG] Hosting started
2023-12-13 13:06:13.914 +02:00 [DBG] Connection id "0HMVRPE2NDF4D" received FIN.
2023-12-13 13:06:13.928 +02:00 [DBG] Connection id "0HMVRPE2NDF4D" accepted.
2023-12-13 13:06:13.929 +02:00 [DBG] Connection id "0HMVRPE2NDF4D" started.
2023-12-13 13:06:13.931 +02:00 [DBG] Connection id "0HMVRPE2NDF4E" accepted.
2023-12-13 13:06:13.931 +02:00 [DBG] Connection id "0HMVRPE2NDF4E" started.
2023-12-13 13:06:13.944 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-13 13:06:13.963 +02:00 [DBG] Connection id "0HMVRPE2NDF4D" stopped.
2023-12-13 13:06:13.965 +02:00 [DBG] Connection id "0HMVRPE2NDF4D" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-13 13:06:13.981 +02:00 [DBG] Connection 0HMVRPE2NDF4E established using the following protocol: "Tls12"
2023-12-13 13:06:14.008 +02:00 [INF] Request starting HTTP/1.1 PATCH https://localhost:7267/api/cities/1/pointsofinterest/1 application/json 101
2023-12-13 13:06:14.009 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-13 13:06:14.023 +02:00 [DBG] PATCH requests are not supported
2023-12-13 13:06:14.042 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-12-13 13:06:14.046 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/PointsOfInterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-12-13 13:06:14.046 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)'
2023-12-13 13:06:14.047 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)'
2023-12-13 13:06:14.075 +02:00 [INF] Route matched with {action = "PartiallyUpdatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] PartiallyUpdatePointOfInterest(Int32, Int32, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.pointOfInterestForUpdateDto]) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-12-13 13:06:14.076 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-13 13:06:14.076 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-13 13:06:14.076 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: ‎-3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: ‎-2000)"]
2023-12-13 13:06:14.076 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-13 13:06:14.076 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: ‎-2000)"]
2023-12-13 13:06:14.076 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-12-13 13:06:14.171 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-13 13:06:14.307 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-12-13 13:06:14.310 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-12-13 13:06:14.311 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-12-13 13:06:14.311 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-13 13:06:14.311 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-13 13:06:14.311 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-12-13 13:06:14.312 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-12-13 13:06:14.313 +02:00 [DBG] Attempting to bind parameter 'pointofinterestid' of type 'System.Int32' ...
2023-12-13 13:06:14.313 +02:00 [DBG] Attempting to bind parameter 'pointofinterestid' of type 'System.Int32' using the name 'pointofinterestid' in request data ...
2023-12-13 13:06:14.313 +02:00 [DBG] Done attempting to bind parameter 'pointofinterestid' of type 'System.Int32'.
2023-12-13 13:06:14.313 +02:00 [DBG] Done attempting to bind parameter 'pointofinterestid' of type 'System.Int32'.
2023-12-13 13:06:14.313 +02:00 [DBG] Attempting to validate the bound parameter 'pointofinterestid' of type 'System.Int32' ...
2023-12-13 13:06:14.314 +02:00 [DBG] Done attempting to validate the bound parameter 'pointofinterestid' of type 'System.Int32'.
2023-12-13 13:06:14.314 +02:00 [DBG] Attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.pointOfInterestForUpdateDto]' ...
2023-12-13 13:06:14.314 +02:00 [DBG] Attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.pointOfInterestForUpdateDto]' using the name '' in request data ...
2023-12-13 13:06:14.315 +02:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-12-13 13:06:14.315 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-12-13 13:06:14.322 +02:00 [DBG] Connection id "0HMVRPE2NDF4E", Request id "0HMVRPE2NDF4E:00000002": started reading request body.
2023-12-13 13:06:14.322 +02:00 [DBG] Connection id "0HMVRPE2NDF4E", Request id "0HMVRPE2NDF4E:00000002": done reading request body.
2023-12-13 13:06:14.448 +02:00 [DBG] Done attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.pointOfInterestForUpdateDto]'.
2023-12-13 13:06:14.448 +02:00 [DBG] Done attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.pointOfInterestForUpdateDto]'.
2023-12-13 13:06:14.448 +02:00 [DBG] Attempting to validate the bound parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.pointOfInterestForUpdateDto]' ...
2023-12-13 13:06:14.452 +02:00 [DBG] Done attempting to validate the bound parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.pointOfInterestForUpdateDto]'.
2023-12-13 13:06:15.198 +02:00 [DBG] Entity Framework Core 7.0.5 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.5' with options: None
2023-12-13 13:06:15.238 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2023-12-13 13:06:15.496 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-13 13:06:15.545 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-13 13:06:15.547 +02:00 [DBG] Creating DbConnection.
2023-12-13 13:06:15.568 +02:00 [DBG] Created DbConnection. (17ms).
2023-12-13 13:06:15.575 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (27ms).
2023-12-13 13:06:15.579 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (34ms).
2023-12-13 13:06:15.588 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-12-13 13:06:15.600 +02:00 [DBG] Opened connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 13:06:15.612 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-12-13 13:06:15.630 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-12-13 13:06:15.641 +02:00 [DBG] Closing data reader to 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 13:06:15.648 +02:00 [DBG] A data reader for 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db' is being disposed after spending 11ms reading results.
2023-12-13 13:06:15.654 +02:00 [DBG] Closing connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 13:06:15.658 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (4ms).
2023-12-13 13:06:15.660 +02:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)
    .FirstOrDefault()'
2023-12-13 13:06:15.694 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointsOfInterest AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-13 13:06:15.705 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-13 13:06:15.705 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-13 13:06:15.705 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-13 13:06:15.705 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-12-13 13:06:15.705 +02:00 [DBG] Opened connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 13:06:15.705 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2023-12-13 13:06:15.706 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2023-12-13 13:06:15.726 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 13:06:15.740 +02:00 [DBG] Closing data reader to 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 13:06:15.740 +02:00 [DBG] A data reader for 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db' is being disposed after spending 33ms reading results.
2023-12-13 13:06:15.740 +02:00 [DBG] Closing connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 13:06:15.740 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-12-13 13:06:15.760 +02:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-12-13 13:06:15.762 +02:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-12-13 13:06:15.775 +02:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-12-13 13:06:15.778 +02:00 [DBG] SaveChanges completed for 'CityInfoContext' with 0 entities written to the database.
2023-12-13 13:06:15.779 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2023-12-13 13:06:15.783 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API) in 1703.2045ms
2023-12-13 13:06:15.783 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)'
2023-12-13 13:06:15.785 +02:00 [DBG] Connection id "0HMVRPE2NDF4E" completed keep alive response.
2023-12-13 13:06:15.790 +02:00 [DBG] 'CityInfoContext' disposed.
2023-12-13 13:06:15.797 +02:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-12-13 13:06:15.800 +02:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (2ms).
2023-12-13 13:06:15.801 +02:00 [INF] Request finished HTTP/1.1 PATCH https://localhost:7267/api/cities/1/pointsofinterest/1 application/json 101 - 204 - - 1794.9789ms
2023-12-13 13:06:21.509 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7267/api/cities/1/pointsofinterest/1 application/json 101
2023-12-13 13:06:21.524 +02:00 [DBG] The request path  does not match the path filter
2023-12-13 13:06:21.525 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-12-13 13:06:21.525 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/PointsOfInterest/{pointofInterestid}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-12-13 13:06:21.525 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-12-13 13:06:21.525 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-12-13 13:06:21.529 +02:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-12-13 13:06:21.529 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-13 13:06:21.529 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-13 13:06:21.529 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: ‎-3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: ‎-2000)"]
2023-12-13 13:06:21.529 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-13 13:06:21.529 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: ‎-2000)"]
2023-12-13 13:06:21.529 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-12-13 13:06:21.529 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-12-13 13:06:21.529 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-12-13 13:06:21.530 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-12-13 13:06:21.530 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-13 13:06:21.530 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-13 13:06:21.530 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-12-13 13:06:21.530 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-12-13 13:06:21.530 +02:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-12-13 13:06:21.530 +02:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-12-13 13:06:21.530 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-12-13 13:06:21.530 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-12-13 13:06:21.530 +02:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-12-13 13:06:21.530 +02:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-12-13 13:06:21.532 +02:00 [DBG] Entity Framework Core 7.0.5 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.5' with options: None
2023-12-13 13:06:21.537 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-13 13:06:21.537 +02:00 [DBG] Creating DbConnection.
2023-12-13 13:06:21.537 +02:00 [DBG] Created DbConnection. (0ms).
2023-12-13 13:06:21.537 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-13 13:06:21.538 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-13 13:06:21.538 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-12-13 13:06:21.538 +02:00 [DBG] Opened connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 13:06:21.538 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-12-13 13:06:21.538 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-12-13 13:06:21.538 +02:00 [DBG] Closing data reader to 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 13:06:21.538 +02:00 [DBG] A data reader for 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db' is being disposed after spending 0ms reading results.
2023-12-13 13:06:21.538 +02:00 [DBG] Closing connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 13:06:21.539 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-12-13 13:06:21.539 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-13 13:06:21.539 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-13 13:06:21.539 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-13 13:06:21.539 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-12-13 13:06:21.539 +02:00 [DBG] Opened connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 13:06:21.539 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2023-12-13 13:06:21.539 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2023-12-13 13:06:21.539 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 13:06:21.540 +02:00 [DBG] Closing data reader to 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 13:06:21.540 +02:00 [DBG] A data reader for 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db' is being disposed after spending 0ms reading results.
2023-12-13 13:06:21.540 +02:00 [DBG] Closing connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 13:06:21.540 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-12-13 13:06:21.542 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-13 13:06:21.545 +02:00 [DBG] No information found on request to perform content negotiation.
2023-12-13 13:06:21.545 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-13 13:06:21.545 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-13 13:06:21.546 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-13 13:06:21.546 +02:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2023-12-13 13:06:21.584 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) in 54.913ms
2023-12-13 13:06:21.584 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-12-13 13:06:21.584 +02:00 [DBG] Connection id "0HMVRPE2NDF4E" completed keep alive response.
2023-12-13 13:06:21.584 +02:00 [DBG] 'CityInfoContext' disposed.
2023-12-13 13:06:21.584 +02:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-12-13 13:06:21.584 +02:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-12-13 13:06:21.584 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7267/api/cities/1/pointsofinterest/1 application/json 101 - 200 116 application/json;+charset=utf-8 75.7396ms
2023-12-13 13:06:21.584 +02:00 [DBG] Connection id "0HMVRPE2NDF4E", Request id "0HMVRPE2NDF4E:00000003": started reading request body.
2023-12-13 13:06:21.584 +02:00 [DBG] Connection id "0HMVRPE2NDF4E", Request id "0HMVRPE2NDF4E:00000003": done reading request body.
2023-12-13 13:14:39.634 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-13 13:14:39.772 +02:00 [DBG] Hosting starting
2023-12-13 13:14:39.897 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 20C6FB97AF62DC64D18855A7E76246685F1F7431)
2023-12-13 13:14:39.961 +02:00 [INF] Now listening on: https://localhost:7267
2023-12-13 13:14:39.961 +02:00 [INF] Now listening on: http://localhost:5235
2023-12-13 13:14:39.961 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-12-13 13:14:39.961 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-13 13:14:39.962 +02:00 [INF] Hosting environment: Development
2023-12-13 13:14:39.962 +02:00 [INF] Content root path: /Users/matanamichy/Projects/CityInfo.API/CityInfo.API/
2023-12-13 13:14:39.962 +02:00 [DBG] Hosting started
2023-12-13 13:14:56.615 +02:00 [DBG] Connection id "0HMVRPIUG9609" received FIN.
2023-12-13 13:14:56.628 +02:00 [DBG] Connection id "0HMVRPIUG9609" accepted.
2023-12-13 13:14:56.629 +02:00 [DBG] Connection id "0HMVRPIUG9609" started.
2023-12-13 13:14:56.630 +02:00 [DBG] Connection id "0HMVRPIUG960A" accepted.
2023-12-13 13:14:56.630 +02:00 [DBG] Connection id "0HMVRPIUG960A" started.
2023-12-13 13:14:56.642 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-13 13:14:56.660 +02:00 [DBG] Connection id "0HMVRPIUG9609" stopped.
2023-12-13 13:14:56.662 +02:00 [DBG] Connection id "0HMVRPIUG9609" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-13 13:14:56.677 +02:00 [DBG] Connection 0HMVRPIUG960A established using the following protocol: "Tls12"
2023-12-13 13:14:56.706 +02:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7267/api/cities/3/pointsofinterest/12 - -
2023-12-13 13:14:56.707 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-13 13:14:56.721 +02:00 [DBG] DELETE requests are not supported
2023-12-13 13:14:56.740 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest/12'
2023-12-13 13:14:56.744 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/PointsOfInterest/{pointOfInterestId}' is valid for the request path '/api/cities/3/pointsofinterest/12'
2023-12-13 13:14:56.744 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2023-12-13 13:14:56.745 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2023-12-13 13:14:56.773 +02:00 [INF] Route matched with {action = "DeletePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeletePointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-12-13 13:14:56.773 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-13 13:14:56.773 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-13 13:14:56.774 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: ‎-3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: ‎-2000)"]
2023-12-13 13:14:56.774 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-13 13:14:56.774 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: ‎-2000)"]
2023-12-13 13:14:56.774 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-12-13 13:14:56.869 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-13 13:14:57.004 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-12-13 13:14:57.006 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-12-13 13:14:57.007 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-12-13 13:14:57.007 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-13 13:14:57.007 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-13 13:14:57.007 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-12-13 13:14:57.008 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-12-13 13:14:57.009 +02:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-12-13 13:14:57.009 +02:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-12-13 13:14:57.009 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-12-13 13:14:57.009 +02:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-12-13 13:14:57.009 +02:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-12-13 13:14:57.009 +02:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-12-13 13:14:57.760 +02:00 [DBG] Entity Framework Core 7.0.5 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.5' with options: None
2023-12-13 13:14:57.800 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2023-12-13 13:14:58.060 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-13 13:14:58.107 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-13 13:14:58.110 +02:00 [DBG] Creating DbConnection.
2023-12-13 13:14:58.130 +02:00 [DBG] Created DbConnection. (16ms).
2023-12-13 13:14:58.137 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (26ms).
2023-12-13 13:14:58.141 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (34ms).
2023-12-13 13:14:58.149 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-12-13 13:14:58.164 +02:00 [DBG] Opened connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 13:14:58.176 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-12-13 13:14:58.196 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-12-13 13:14:58.207 +02:00 [DBG] Closing data reader to 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 13:14:58.213 +02:00 [DBG] A data reader for 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db' is being disposed after spending 11ms reading results.
2023-12-13 13:14:58.219 +02:00 [DBG] Closing connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 13:14:58.223 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (4ms).
2023-12-13 13:14:58.226 +02:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)
    .FirstOrDefault()'
2023-12-13 13:14:58.259 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointsOfInterest AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-13 13:14:58.270 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-13 13:14:58.270 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-13 13:14:58.270 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-13 13:14:58.270 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-12-13 13:14:58.270 +02:00 [DBG] Opened connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 13:14:58.270 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2023-12-13 13:14:58.272 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2023-12-13 13:14:58.291 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 13:14:58.305 +02:00 [DBG] Closing data reader to 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 13:14:58.305 +02:00 [DBG] A data reader for 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db' is being disposed after spending 32ms reading results.
2023-12-13 13:14:58.305 +02:00 [DBG] Closing connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 13:14:58.305 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-12-13 13:14:58.317 +02:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 13:14:58.326 +02:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-12-13 13:14:58.328 +02:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-12-13 13:14:58.341 +02:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-12-13 13:14:58.406 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-12-13 13:14:58.406 +02:00 [DBG] Opened connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 13:14:58.409 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-13 13:14:58.409 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-13 13:14:58.409 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-13 13:14:58.409 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "PointsOfInterest"
WHERE "Id" = @p0
RETURNING 1;
2023-12-13 13:14:58.409 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "PointsOfInterest"
WHERE "Id" = @p0
RETURNING 1;
2023-12-13 13:14:58.416 +02:00 [DBG] Closing data reader to 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 13:14:58.416 +02:00 [DBG] A data reader for 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db' is being disposed after spending 6ms reading results.
2023-12-13 13:14:58.416 +02:00 [DBG] Closing connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 13:14:58.416 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-12-13 13:14:58.422 +02:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 13:14:58.424 +02:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2023-12-13 13:14:58.424 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2023-12-13 13:14:58.428 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API) in 1650.7811ms
2023-12-13 13:14:58.429 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2023-12-13 13:14:58.430 +02:00 [DBG] Connection id "0HMVRPIUG960A" completed keep alive response.
2023-12-13 13:14:58.435 +02:00 [DBG] 'CityInfoContext' disposed.
2023-12-13 13:14:58.445 +02:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-12-13 13:14:58.447 +02:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2023-12-13 13:14:58.447 +02:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7267/api/cities/3/pointsofinterest/12 - - - 204 - - 1743.6365ms
2023-12-13 13:15:04.529 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7267/api/cities/3/pointsofinterest - -
2023-12-13 13:15:04.554 +02:00 [DBG] The request path  does not match the path filter
2023-12-13 13:15:04.554 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2023-12-13 13:15:04.554 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/PointsOfInterest' is valid for the request path '/api/cities/3/pointsofinterest'
2023-12-13 13:15:04.554 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-12-13 13:15:04.555 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-12-13 13:15:04.558 +02:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-12-13 13:15:04.558 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-13 13:15:04.558 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-13 13:15:04.558 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: ‎-3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: ‎-2000)"]
2023-12-13 13:15:04.558 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-13 13:15:04.558 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: ‎-2000)"]
2023-12-13 13:15:04.559 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-12-13 13:15:04.559 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-12-13 13:15:04.559 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-12-13 13:15:04.559 +02:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-12-13 13:15:04.559 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-13 13:15:04.559 +02:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-13 13:15:04.559 +02:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-12-13 13:15:04.559 +02:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-12-13 13:15:04.562 +02:00 [DBG] Entity Framework Core 7.0.5 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.5' with options: None
2023-12-13 13:15:04.566 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-13 13:15:04.566 +02:00 [DBG] Creating DbConnection.
2023-12-13 13:15:04.566 +02:00 [DBG] Created DbConnection. (0ms).
2023-12-13 13:15:04.566 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-13 13:15:04.566 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-13 13:15:04.566 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-12-13 13:15:04.566 +02:00 [DBG] Opened connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 13:15:04.566 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-12-13 13:15:04.566 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2023-12-13 13:15:04.567 +02:00 [DBG] Closing data reader to 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 13:15:04.567 +02:00 [DBG] A data reader for 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db' is being disposed after spending 0ms reading results.
2023-12-13 13:15:04.567 +02:00 [DBG] Closing connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 13:15:04.567 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-12-13 13:15:04.573 +02:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0)'
2023-12-13 13:15:04.576 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-12-13 13:15:04.576 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-13 13:15:04.576 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-13 13:15:04.576 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-13 13:15:04.576 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-12-13 13:15:04.576 +02:00 [DBG] Opened connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 13:15:04.576 +02:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-12-13 13:15:04.576 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2023-12-13 13:15:04.576 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 13:15:04.577 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 13:15:04.577 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 13:15:04.577 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 13:15:04.577 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 13:15:04.577 +02:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 13:15:04.577 +02:00 [DBG] Closing data reader to 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 13:15:04.577 +02:00 [DBG] A data reader for 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db' is being disposed after spending 0ms reading results.
2023-12-13 13:15:04.577 +02:00 [DBG] Closing connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 13:15:04.577 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-12-13 13:15:04.593 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-13 13:15:04.595 +02:00 [DBG] No information found on request to perform content negotiation.
2023-12-13 13:15:04.595 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-13 13:15:04.595 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-13 13:15:04.595 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-13 13:15:04.596 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-13 13:15:04.699 +02:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 140.4034ms
2023-12-13 13:15:04.699 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-12-13 13:15:04.699 +02:00 [DBG] Connection id "0HMVRPIUG960A" completed keep alive response.
2023-12-13 13:15:04.699 +02:00 [DBG] 'CityInfoContext' disposed.
2023-12-13 13:15:04.699 +02:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-12-13 13:15:04.699 +02:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-12-13 13:15:04.699 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7267/api/cities/3/pointsofinterest - - - 200 659 application/json;+charset=utf-8 170.0087ms
2023-12-13 19:02:25.333 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-13 19:02:25.410 +02:00 [DBG] Hosting starting
2023-12-13 19:02:25.517 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 20C6FB97AF62DC64D18855A7E76246685F1F7431)
2023-12-13 19:02:25.584 +02:00 [INF] Now listening on: https://localhost:7267
2023-12-13 19:02:25.584 +02:00 [INF] Now listening on: http://localhost:5235
2023-12-13 19:02:25.584 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-12-13 19:02:25.584 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-13 19:02:25.585 +02:00 [INF] Hosting environment: Development
2023-12-13 19:02:25.585 +02:00 [INF] Content root path: /Users/matanamichy/Projects/CityInfo.API/CityInfo.API/
2023-12-13 19:02:25.585 +02:00 [DBG] Hosting started
2023-12-13 19:02:43.150 +02:00 [DBG] Connection id "0HMVRVL97275H" received FIN.
2023-12-13 19:02:43.165 +02:00 [DBG] Connection id "0HMVRVL97275H" accepted.
2023-12-13 19:02:43.167 +02:00 [DBG] Connection id "0HMVRVL97275H" started.
2023-12-13 19:02:43.198 +02:00 [DBG] Connection id "0HMVRVL97275I" accepted.
2023-12-13 19:02:43.198 +02:00 [DBG] Connection id "0HMVRVL97275I" started.
2023-12-13 19:02:43.211 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-13 19:02:43.231 +02:00 [DBG] Connection id "0HMVRVL97275H" stopped.
2023-12-13 19:02:43.234 +02:00 [DBG] Connection id "0HMVRVL97275H" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-13 19:02:43.271 +02:00 [DBG] Connection 0HMVRVL97275I established using the following protocol: "Tls12"
2023-12-13 19:02:43.301 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7267/api/cities?name=Antwerp - -
2023-12-13 19:02:43.301 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-13 19:02:43.331 +02:00 [DBG] The request path  does not match the path filter
2023-12-13 19:02:43.350 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-13 19:02:43.354 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-13 19:02:43.354 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-12-13 19:02:43.356 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-12-13 19:02:43.383 +02:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities(System.String) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-12-13 19:02:43.383 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-13 19:02:43.383 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-13 19:02:43.383 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: ‎-3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: ‎-2000)"]
2023-12-13 19:02:43.384 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-13 19:02:43.384 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: ‎-2000)"]
2023-12-13 19:02:43.384 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-12-13 19:02:43.481 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-13 19:02:43.615 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-12-13 19:02:43.620 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-12-13 19:02:43.621 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-12-13 19:02:43.622 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-13 19:02:43.622 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-13 19:02:43.622 +02:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-12-13 19:02:43.623 +02:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-12-13 19:02:44.354 +02:00 [DBG] Entity Framework Core 7.0.5 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.5' with options: None
2023-12-13 19:02:44.397 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Name == __name_0)
    .OrderBy(c => c.Name)'
2023-12-13 19:02:44.697 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        WHERE c.Name == @__name_0
        ORDER BY c.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-12-13 19:02:44.742 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-13 19:02:44.744 +02:00 [DBG] Creating DbConnection.
2023-12-13 19:02:44.762 +02:00 [DBG] Created DbConnection. (14ms).
2023-12-13 19:02:44.769 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (23ms).
2023-12-13 19:02:44.773 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (31ms).
2023-12-13 19:02:44.781 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-12-13 19:02:44.796 +02:00 [DBG] Opened connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 19:02:44.808 +02:00 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
ORDER BY "c"."Name"
2023-12-13 19:02:44.829 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__name_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
ORDER BY "c"."Name"
2023-12-13 19:02:44.851 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 19:02:44.871 +02:00 [DBG] Closing data reader to 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 19:02:44.878 +02:00 [DBG] A data reader for 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db' is being disposed after spending 43ms reading results.
2023-12-13 19:02:44.884 +02:00 [DBG] Closing connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 19:02:44.888 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (4ms).
2023-12-13 19:02:44.902 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-13 19:02:44.904 +02:00 [DBG] No information found on request to perform content negotiation.
2023-12-13 19:02:44.904 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-13 19:02:44.905 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-13 19:02:44.905 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-13 19:02:44.905 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-13 19:02:45.009 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 1621.9189ms
2023-12-13 19:02:45.010 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-12-13 19:02:45.010 +02:00 [DBG] Connection id "0HMVRVL97275I" completed keep alive response.
2023-12-13 19:02:45.015 +02:00 [DBG] 'CityInfoContext' disposed.
2023-12-13 19:02:45.023 +02:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-12-13 19:02:45.024 +02:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2023-12-13 19:02:45.025 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7267/api/cities?name=Antwerp - - - 200 102 application/json;+charset=utf-8 1727.2524ms
2023-12-13 19:04:12.720 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-13 19:04:12.821 +02:00 [DBG] Hosting starting
2023-12-13 19:04:13.001 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 20C6FB97AF62DC64D18855A7E76246685F1F7431)
2023-12-13 19:04:13.124 +02:00 [INF] Now listening on: https://localhost:7267
2023-12-13 19:04:13.124 +02:00 [INF] Now listening on: http://localhost:5235
2023-12-13 19:04:13.124 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-12-13 19:04:13.125 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-13 19:04:13.125 +02:00 [INF] Hosting environment: Development
2023-12-13 19:04:13.126 +02:00 [INF] Content root path: /Users/matanamichy/Projects/CityInfo.API/CityInfo.API/
2023-12-13 19:04:13.126 +02:00 [DBG] Hosting started
2023-12-13 19:04:15.044 +02:00 [DBG] Connection id "0HMVRVM4JE8KV" received FIN.
2023-12-13 19:04:15.054 +02:00 [DBG] Connection id "0HMVRVM4JE8KV" accepted.
2023-12-13 19:04:15.055 +02:00 [DBG] Connection id "0HMVRVM4JE8KV" started.
2023-12-13 19:04:15.058 +02:00 [DBG] Connection id "0HMVRVM4JE8L0" accepted.
2023-12-13 19:04:15.058 +02:00 [DBG] Connection id "0HMVRVM4JE8L0" started.
2023-12-13 19:04:15.069 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-13 19:04:15.087 +02:00 [DBG] Connection id "0HMVRVM4JE8KV" stopped.
2023-12-13 19:04:15.090 +02:00 [DBG] Connection id "0HMVRVM4JE8KV" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-13 19:04:15.104 +02:00 [DBG] Connection 0HMVRVM4JE8L0 established using the following protocol: "Tls12"
2023-12-13 19:04:15.138 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7267/api/cities?name=Antwerp - -
2023-12-13 19:04:15.139 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-13 19:04:15.173 +02:00 [DBG] The request path  does not match the path filter
2023-12-13 19:04:15.194 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-13 19:04:15.198 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-13 19:04:15.198 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-12-13 19:04:15.200 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-12-13 19:04:15.228 +02:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities(System.String) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-12-13 19:04:15.228 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-13 19:04:15.228 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-13 19:04:15.228 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: ‎-3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: ‎-2000)"]
2023-12-13 19:04:15.228 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-13 19:04:15.228 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: ‎-2000)"]
2023-12-13 19:04:15.229 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-12-13 19:04:15.325 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-13 19:04:15.460 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-12-13 19:04:15.465 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-12-13 19:04:15.466 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2023-12-13 19:04:15.466 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-13 19:04:15.466 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-13 19:04:15.466 +02:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-12-13 19:04:15.467 +02:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-12-13 19:04:16.195 +02:00 [DBG] Entity Framework Core 7.0.5 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.5' with options: None
2023-12-13 19:04:16.239 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Name == __name_0)
    .OrderBy(c => c.Name)'
2023-12-13 19:04:16.540 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        WHERE c.Name == @__name_0
        ORDER BY c.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-12-13 19:04:16.585 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-13 19:04:16.588 +02:00 [DBG] Creating DbConnection.
2023-12-13 19:04:16.605 +02:00 [DBG] Created DbConnection. (14ms).
2023-12-13 19:04:16.612 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (24ms).
2023-12-13 19:04:16.616 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (31ms).
2023-12-13 19:04:16.624 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-12-13 19:04:16.637 +02:00 [DBG] Opened connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 19:04:16.649 +02:00 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
ORDER BY "c"."Name"
2023-12-13 19:04:16.668 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__name_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
ORDER BY "c"."Name"
2023-12-13 19:04:16.690 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 19:04:16.711 +02:00 [DBG] Closing data reader to 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 19:04:16.717 +02:00 [DBG] A data reader for 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db' is being disposed after spending 43ms reading results.
2023-12-13 19:04:16.724 +02:00 [DBG] Closing connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 19:04:16.728 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (4ms).
2023-12-13 19:04:16.741 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-13 19:04:16.744 +02:00 [DBG] No information found on request to perform content negotiation.
2023-12-13 19:04:16.744 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-13 19:04:16.744 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-13 19:04:16.744 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-13 19:04:16.744 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-13 19:04:16.851 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 1618.8312ms
2023-12-13 19:04:16.851 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-12-13 19:04:16.852 +02:00 [DBG] Connection id "0HMVRVM4JE8L0" completed keep alive response.
2023-12-13 19:04:16.857 +02:00 [DBG] 'CityInfoContext' disposed.
2023-12-13 19:04:16.865 +02:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-12-13 19:04:16.867 +02:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2023-12-13 19:04:16.867 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7267/api/cities?name=Antwerp - - - 200 102 application/json;+charset=utf-8 1732.6462ms
2023-12-13 19:19:04.459 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-13 19:19:04.581 +02:00 [DBG] Hosting starting
2023-12-13 19:19:04.724 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 20C6FB97AF62DC64D18855A7E76246685F1F7431)
2023-12-13 19:19:04.869 +02:00 [INF] Now listening on: https://localhost:7267
2023-12-13 19:19:04.869 +02:00 [INF] Now listening on: http://localhost:5235
2023-12-13 19:19:04.869 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-12-13 19:19:04.870 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-13 19:19:04.870 +02:00 [INF] Hosting environment: Development
2023-12-13 19:19:04.870 +02:00 [INF] Content root path: /Users/matanamichy/Projects/CityInfo.API/CityInfo.API/
2023-12-13 19:19:04.870 +02:00 [DBG] Hosting started
2023-12-13 19:19:10.630 +02:00 [DBG] Connection id "0HMVRVUFGD707" received FIN.
2023-12-13 19:19:10.641 +02:00 [DBG] Connection id "0HMVRVUFGD707" accepted.
2023-12-13 19:19:10.642 +02:00 [DBG] Connection id "0HMVRVUFGD707" started.
2023-12-13 19:19:10.643 +02:00 [DBG] Connection id "0HMVRVUFGD708" accepted.
2023-12-13 19:19:10.668 +02:00 [DBG] Connection id "0HMVRVUFGD708" started.
2023-12-13 19:19:10.686 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-13 19:19:10.705 +02:00 [DBG] Connection id "0HMVRVUFGD707" stopped.
2023-12-13 19:19:10.708 +02:00 [DBG] Connection id "0HMVRVUFGD707" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-13 19:19:10.721 +02:00 [DBG] Connection 0HMVRVUFGD708 established using the following protocol: "Tls12"
2023-12-13 19:19:10.750 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7267/api/cities?searchQuery=the - -
2023-12-13 19:19:10.751 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-13 19:19:10.782 +02:00 [DBG] The request path  does not match the path filter
2023-12-13 19:19:10.801 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-13 19:19:10.805 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-13 19:19:10.805 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-12-13 19:19:10.807 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-12-13 19:19:10.834 +02:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities(System.String, System.String) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-12-13 19:19:10.834 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-13 19:19:10.834 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-13 19:19:10.835 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: ‎-3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: ‎-2000)"]
2023-12-13 19:19:10.835 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-13 19:19:10.835 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: ‎-2000)"]
2023-12-13 19:19:10.835 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-12-13 19:19:10.932 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-13 19:19:11.067 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-12-13 19:19:11.072 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-12-13 19:19:11.073 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-12-13 19:19:11.073 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-12-13 19:19:11.073 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-13 19:19:11.074 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-13 19:19:11.074 +02:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-12-13 19:19:11.074 +02:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-12-13 19:19:11.075 +02:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-12-13 19:19:11.075 +02:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2023-12-13 19:19:11.076 +02:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-13 19:19:11.076 +02:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-13 19:19:11.076 +02:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-12-13 19:19:11.076 +02:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-12-13 19:19:11.190 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 351.3226ms
2023-12-13 19:19:11.191 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-12-13 19:19:11.191 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at CityInfo.API.Services.CityInfoRepository.GetCitiesAsync(String name, String searchQuery) in /Users/matanamichy/Projects/CityInfo.API/CityInfo.API/Services/CityInfoRepository.cs:line 31
   at CityInfo.API.Controllers.CitiesController.GetCities(String name, String searchQuery) in /Users/matanamichy/Projects/CityInfo.API/CityInfo.API/Controllers/CitiesController.cs:line 25
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-12-13 19:19:11.205 +02:00 [DBG] Connection id "0HMVRVUFGD708" completed keep alive response.
2023-12-13 19:19:11.209 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7267/api/cities?searchQuery=the - - - 500 - text/plain;+charset=utf-8 461.5977ms
2023-12-13 19:19:20.880 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7267/api/cities?searchQuery=the - -
2023-12-13 19:19:20.881 +02:00 [DBG] The request path  does not match the path filter
2023-12-13 19:19:20.882 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-13 19:19:20.882 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-13 19:19:20.882 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-12-13 19:19:20.883 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-12-13 19:19:20.883 +02:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities(System.String, System.String) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-12-13 19:19:20.883 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-13 19:19:20.883 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-13 19:19:20.884 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: ‎-3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: ‎-2000)"]
2023-12-13 19:19:20.884 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-13 19:19:20.884 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: ‎-2000)"]
2023-12-13 19:19:20.884 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-12-13 19:19:20.898 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-12-13 19:19:20.899 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-12-13 19:19:20.899 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-12-13 19:19:20.899 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-12-13 19:19:20.899 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-13 19:19:20.899 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-13 19:19:20.899 +02:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-12-13 19:19:20.899 +02:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-12-13 19:19:20.899 +02:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-12-13 19:19:20.900 +02:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2023-12-13 19:19:20.900 +02:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-13 19:19:20.900 +02:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-13 19:19:20.900 +02:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-12-13 19:19:20.900 +02:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-12-13 19:19:20.961 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 77.2547ms
2023-12-13 19:19:20.962 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-12-13 19:19:20.962 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at CityInfo.API.Services.CityInfoRepository.GetCitiesAsync(String name, String searchQuery) in /Users/matanamichy/Projects/CityInfo.API/CityInfo.API/Services/CityInfoRepository.cs:line 31
   at CityInfo.API.Controllers.CitiesController.GetCities(String name, String searchQuery) in /Users/matanamichy/Projects/CityInfo.API/CityInfo.API/Controllers/CitiesController.cs:line 25
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-12-13 19:19:20.964 +02:00 [DBG] Connection id "0HMVRVUFGD708" completed keep alive response.
2023-12-13 19:19:20.964 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7267/api/cities?searchQuery=the - - - 500 - text/plain;+charset=utf-8 83.3385ms
2023-12-13 19:19:33.887 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7267/api/cities?searchQuery=the - -
2023-12-13 19:19:33.888 +02:00 [DBG] The request path  does not match the path filter
2023-12-13 19:19:33.888 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-13 19:19:33.888 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-13 19:19:33.888 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-12-13 19:19:33.888 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-12-13 19:19:33.889 +02:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities(System.String, System.String) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-12-13 19:19:33.889 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-13 19:19:33.889 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-13 19:19:33.889 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: ‎-3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: ‎-2000)"]
2023-12-13 19:19:33.889 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-13 19:19:33.889 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: ‎-2000)"]
2023-12-13 19:19:33.889 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-12-13 19:19:33.892 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-12-13 19:19:33.892 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-12-13 19:19:33.892 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-12-13 19:19:33.892 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-12-13 19:19:33.892 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-13 19:19:33.892 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-13 19:19:33.892 +02:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-12-13 19:19:33.892 +02:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-12-13 19:19:33.892 +02:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-12-13 19:19:33.892 +02:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2023-12-13 19:19:33.892 +02:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-13 19:19:33.892 +02:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-13 19:19:33.892 +02:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-12-13 19:19:33.892 +02:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-12-13 19:20:28.769 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-13 19:20:28.854 +02:00 [DBG] Hosting starting
2023-12-13 19:20:28.959 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 20C6FB97AF62DC64D18855A7E76246685F1F7431)
2023-12-13 19:20:29.101 +02:00 [INF] Now listening on: https://localhost:7267
2023-12-13 19:20:29.101 +02:00 [INF] Now listening on: http://localhost:5235
2023-12-13 19:20:29.101 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-12-13 19:20:29.101 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-13 19:20:29.102 +02:00 [INF] Hosting environment: Development
2023-12-13 19:20:29.102 +02:00 [INF] Content root path: /Users/matanamichy/Projects/CityInfo.API/CityInfo.API/
2023-12-13 19:20:29.102 +02:00 [DBG] Hosting started
2023-12-13 19:20:30.552 +02:00 [DBG] Connection id "0HMVRVV7AJEA9" received FIN.
2023-12-13 19:20:30.558 +02:00 [DBG] Connection id "0HMVRVV7AJEA9" accepted.
2023-12-13 19:20:30.559 +02:00 [DBG] Connection id "0HMVRVV7AJEA9" started.
2023-12-13 19:20:30.560 +02:00 [DBG] Connection id "0HMVRVV7AJEAA" accepted.
2023-12-13 19:20:30.560 +02:00 [DBG] Connection id "0HMVRVV7AJEAA" started.
2023-12-13 19:20:30.568 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-13 19:20:30.584 +02:00 [DBG] Connection id "0HMVRVV7AJEA9" stopped.
2023-12-13 19:20:30.587 +02:00 [DBG] Connection id "0HMVRVV7AJEA9" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-13 19:20:30.601 +02:00 [DBG] Connection 0HMVRVV7AJEAA established using the following protocol: "Tls12"
2023-12-13 19:20:30.630 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7267/api/cities?searchQuery=the - -
2023-12-13 19:20:30.631 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-13 19:20:30.662 +02:00 [DBG] The request path  does not match the path filter
2023-12-13 19:20:30.680 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-13 19:20:30.684 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-13 19:20:30.685 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-12-13 19:20:30.686 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-12-13 19:20:30.714 +02:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities(System.String, System.String) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-12-13 19:20:30.715 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-13 19:20:30.715 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-13 19:20:30.715 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: ‎-3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: ‎-2000)"]
2023-12-13 19:20:30.715 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-13 19:20:30.715 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: ‎-2000)"]
2023-12-13 19:20:30.715 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-12-13 19:20:30.809 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-13 19:20:30.944 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-12-13 19:20:30.949 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-12-13 19:20:30.950 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-12-13 19:20:30.950 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-12-13 19:20:30.950 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-13 19:20:30.950 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-13 19:20:30.951 +02:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-12-13 19:20:30.951 +02:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-12-13 19:20:30.952 +02:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-12-13 19:20:30.952 +02:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2023-12-13 19:20:30.953 +02:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-13 19:20:30.953 +02:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-13 19:20:30.953 +02:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-12-13 19:20:30.953 +02:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-12-13 19:20:34.987 +02:00 [DBG] Entity Framework Core 7.0.5 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.5' with options: None
2023-12-13 19:20:35.036 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(a => a.Name.Contains(__searchQuery_0) || a.Description != null && a.Description.Contains(__searchQuery_0))
    .OrderBy(c => c.Name)'
2023-12-13 19:20:35.369 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        WHERE ((@__searchQuery_0 == '') || (instr(c.Name, @__searchQuery_0) > 0)) || ((c.Description != NULL) && ((@__searchQuery_0 == '') || (instr(c.Description, @__searchQuery_0) > 0)))
        ORDER BY c.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-12-13 19:20:35.420 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-13 19:20:35.422 +02:00 [DBG] Creating DbConnection.
2023-12-13 19:20:35.440 +02:00 [DBG] Created DbConnection. (14ms).
2023-12-13 19:20:35.446 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (23ms).
2023-12-13 19:20:35.450 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (31ms).
2023-12-13 19:20:35.458 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-12-13 19:20:35.472 +02:00 [DBG] Opened connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 19:20:35.485 +02:00 [DBG] Executing DbCommand [Parameters=[@__searchQuery_0='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE @__searchQuery_0 = '' OR instr("c"."Name", @__searchQuery_0) > 0 OR (("c"."Description" IS NOT NULL) AND (@__searchQuery_0 = '' OR instr("c"."Description", @__searchQuery_0) > 0))
ORDER BY "c"."Name"
2023-12-13 19:20:35.505 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__searchQuery_0='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE @__searchQuery_0 = '' OR instr("c"."Name", @__searchQuery_0) > 0 OR (("c"."Description" IS NOT NULL) AND (@__searchQuery_0 = '' OR instr("c"."Description", @__searchQuery_0) > 0))
ORDER BY "c"."Name"
2023-12-13 19:20:35.527 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 19:20:35.548 +02:00 [DBG] Closing data reader to 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 19:20:35.554 +02:00 [DBG] A data reader for 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db' is being disposed after spending 43ms reading results.
2023-12-13 19:20:35.561 +02:00 [DBG] Closing connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 19:20:35.565 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (4ms).
2023-12-13 19:20:35.578 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-13 19:20:35.581 +02:00 [DBG] No information found on request to perform content negotiation.
2023-12-13 19:20:35.581 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-13 19:20:35.581 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-13 19:20:35.582 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-13 19:20:35.582 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-13 19:20:35.686 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 4967.5597ms
2023-12-13 19:20:35.687 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-12-13 19:20:35.687 +02:00 [DBG] Connection id "0HMVRVV7AJEAA" completed keep alive response.
2023-12-13 19:20:35.692 +02:00 [DBG] 'CityInfoContext' disposed.
2023-12-13 19:20:35.699 +02:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-12-13 19:20:35.700 +02:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2023-12-13 19:20:35.701 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7267/api/cities?searchQuery=the - - - 200 102 application/json;+charset=utf-8 5073.3269ms
2023-12-13 19:49:00.837 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-13 19:49:00.932 +02:00 [DBG] Hosting starting
2023-12-13 19:49:01.059 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 20C6FB97AF62DC64D18855A7E76246685F1F7431)
2023-12-13 19:49:01.155 +02:00 [INF] Now listening on: https://localhost:7267
2023-12-13 19:49:01.155 +02:00 [INF] Now listening on: http://localhost:5235
2023-12-13 19:49:01.155 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-12-13 19:49:01.155 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-13 19:49:01.156 +02:00 [INF] Hosting environment: Development
2023-12-13 19:49:01.156 +02:00 [INF] Content root path: /Users/matanamichy/Projects/CityInfo.API/CityInfo.API/
2023-12-13 19:49:01.156 +02:00 [DBG] Hosting started
2023-12-13 19:52:32.079 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-13 19:52:32.275 +02:00 [DBG] Hosting starting
2023-12-13 19:52:32.509 +02:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 20C6FB97AF62DC64D18855A7E76246685F1F7431)
2023-12-13 19:52:32.684 +02:00 [INF] Now listening on: https://localhost:7267
2023-12-13 19:52:32.685 +02:00 [INF] Now listening on: http://localhost:5235
2023-12-13 19:52:32.685 +02:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-12-13 19:52:32.685 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-13 19:52:32.686 +02:00 [INF] Hosting environment: Development
2023-12-13 19:52:32.686 +02:00 [INF] Content root path: /Users/matanamichy/Projects/CityInfo.API/CityInfo.API/
2023-12-13 19:52:32.686 +02:00 [DBG] Hosting started
2023-12-13 19:52:39.123 +02:00 [DBG] Connection id "0HMVS0H62SNR5" received FIN.
2023-12-13 19:52:39.138 +02:00 [DBG] Connection id "0HMVS0H62SNR5" accepted.
2023-12-13 19:52:39.140 +02:00 [DBG] Connection id "0HMVS0H62SNR5" started.
2023-12-13 19:52:39.141 +02:00 [DBG] Connection id "0HMVS0H62SNR6" accepted.
2023-12-13 19:52:39.141 +02:00 [DBG] Connection id "0HMVS0H62SNR6" started.
2023-12-13 19:52:39.150 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-13 19:52:39.169 +02:00 [DBG] Connection id "0HMVS0H62SNR5" stopped.
2023-12-13 19:52:39.171 +02:00 [DBG] Connection id "0HMVS0H62SNR5" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-13 19:52:39.187 +02:00 [DBG] Connection 0HMVS0H62SNR6 established using the following protocol: "Tls12"
2023-12-13 19:52:39.216 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:7267/api/cities?pageSize=1&pageNumber=2 - -
2023-12-13 19:52:39.216 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-13 19:52:39.247 +02:00 [DBG] The request path  does not match the path filter
2023-12-13 19:52:39.267 +02:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-13 19:52:39.271 +02:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-13 19:52:39.272 +02:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-12-13 19:52:39.273 +02:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-12-13 19:52:39.301 +02:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-12-13 19:52:39.301 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-13 19:52:39.301 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-13 19:52:39.302 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: ‎-3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: ‎-2000)"]
2023-12-13 19:52:39.302 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-13 19:52:39.302 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: ‎-2000)"]
2023-12-13 19:52:39.302 +02:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-12-13 19:52:39.400 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-13 19:52:39.537 +02:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-12-13 19:52:39.542 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-12-13 19:52:39.543 +02:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-12-13 19:52:39.543 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-12-13 19:52:39.543 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-13 19:52:39.543 +02:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-13 19:52:39.544 +02:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-12-13 19:52:39.544 +02:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-12-13 19:52:39.545 +02:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-12-13 19:52:39.545 +02:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-12-13 19:52:39.546 +02:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-12-13 19:52:39.546 +02:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-13 19:52:39.546 +02:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-13 19:52:39.546 +02:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-12-13 19:52:39.546 +02:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-12-13 19:52:39.546 +02:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-12-13 19:52:39.546 +02:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2023-12-13 19:52:39.546 +02:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-13 19:52:39.546 +02:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-13 19:52:39.546 +02:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-12-13 19:52:39.547 +02:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-12-13 19:52:39.547 +02:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-12-13 19:52:39.547 +02:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2023-12-13 19:52:39.547 +02:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-13 19:52:39.547 +02:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-13 19:52:39.547 +02:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-12-13 19:52:39.547 +02:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-12-13 19:52:47.643 +02:00 [DBG] Entity Framework Core 7.0.5 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:7.0.5' with options: None
2023-12-13 19:52:47.678 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Count()'
2023-12-13 19:52:47.942 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Cities AS c), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-13 19:52:47.983 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-13 19:52:47.986 +02:00 [DBG] Creating DbConnection.
2023-12-13 19:52:48.004 +02:00 [DBG] Created DbConnection. (14ms).
2023-12-13 19:52:48.011 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (25ms).
2023-12-13 19:52:48.013 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (30ms).
2023-12-13 19:52:48.022 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-12-13 19:52:48.036 +02:00 [DBG] Opened connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 19:52:48.044 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-12-13 19:52:48.060 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2023-12-13 19:52:48.071 +02:00 [DBG] Closing data reader to 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 19:52:48.077 +02:00 [DBG] A data reader for 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db' is being disposed after spending 11ms reading results.
2023-12-13 19:52:48.083 +02:00 [DBG] Closing connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 19:52:48.088 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (4ms).
2023-12-13 19:52:48.096 +02:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)
    .Skip(__p_0)'
2023-12-13 19:52:48.147 +02:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC
        OFFSET @__p_0 ROWS), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-12-13 19:52:48.157 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-13 19:52:48.157 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-13 19:52:48.159 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-13 19:52:48.159 +02:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2023-12-13 19:52:48.159 +02:00 [DBG] Opened connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 19:52:48.163 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT -1 OFFSET @__p_0
2023-12-13 19:52:48.168 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT -1 OFFSET @__p_0
2023-12-13 19:52:48.189 +02:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-13 19:52:48.202 +02:00 [DBG] Closing data reader to 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 19:52:48.202 +02:00 [DBG] A data reader for 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db' is being disposed after spending 33ms reading results.
2023-12-13 19:52:48.202 +02:00 [DBG] Closing connection to database 'main' on server '/Users/matanamichy/Projects/CityInfo.API/CityInfo.API/CityInfo.db'.
2023-12-13 19:52:48.202 +02:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (0ms).
2023-12-13 19:52:48.286 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-13 19:52:48.289 +02:00 [DBG] No information found on request to perform content negotiation.
2023-12-13 19:52:48.289 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-13 19:52:48.289 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-13 19:52:48.289 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-13 19:52:48.289 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-13 19:52:48.398 +02:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 9092.9189ms
2023-12-13 19:52:48.399 +02:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-12-13 19:52:48.399 +02:00 [DBG] Connection id "0HMVS0H62SNR6" completed keep alive response.
2023-12-13 19:52:48.404 +02:00 [DBG] 'CityInfoContext' disposed.
2023-12-13 19:52:48.412 +02:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2023-12-13 19:52:48.414 +02:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2023-12-13 19:52:48.414 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:7267/api/cities?pageSize=1&pageNumber=2 - - - 200 70 application/json;+charset=utf-8 9201.7617ms
